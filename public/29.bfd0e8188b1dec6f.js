"use strict";(self.webpackChunkappUserManagmentRonny=self.webpackChunkappUserManagmentRonny||[]).push([[29],{8029:(fs,R,d)=>{d.r(R),d.d(R,{DashboardModule:()=>vs});var v=d(6895),x=d(529),w=d(4006),T=d(9632),e=d(4650),G=d(9598),y=d(6518),Z=d(805),L=d(615);function se(n,r){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"hr",7),e.TgZ(2,"a",8)(3,"span",9),e._uU(4),e.qZA(),e._UZ(5,"span",10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.usuario.name)}}const ie=function(){return{display:"none"}},ne=function(){return{"max-width":"25%",height:"30px"}},oe=function(){return{width:"100%"}};let re=(()=>{class n{constructor(t,s,i){this.util=t,this.authService=s,this.router=i,this.items=[],this.width=window.screen.width,this.role=this.authService.getRole()}get usuario(){return console.log(this.authService.usuario),this.authService.usuario}ngOnInit(){1===this.role?this.items=[{label:"Dashboard",icon:"pi pi-fw pi-home",command:t=>{this.goToStep("dashboard")},styleClass:"dashboardItem"},{label:"Gr\xe1ficos",icon:"pi pi-fw pi-chart-line",command:t=>{this.goToStep("dashboard/graficos")}},{label:"Lista de Clientes",icon:"pi pi-fw pi-user",command:t=>{this.goToStep("dashboard/clientList")}},{label:"Lista de Ordenes",icon:"pi pi-fw pi-calendar-minus",command:t=>{this.goToStep("dashboard/orderlist")}},{label:"Solicitudes",icon:"pi pi-fw pi-align-justify",command:t=>{this.goToStep("dashboard/request")}},{label:"Movimientos",icon:"pi pi-fw pi-globe",command:t=>{this.goToStep("dashboard/movementslist")}},{label:"Detalle Cuenta",icon:"pi pi-fw pi-user",command:t=>{this.goToStep("dashboard/clientDetail")}},{label:"Cerrar sesi\xf3n",icon:"pi pi-fw pi-sign-out",command:t=>{this.goToStep("login")},styleClass:"logOutItem"}]:2===this.role&&(this.items=[{label:"Dashboard",icon:"pi pi-fw pi-home",command:t=>{this.goToStep("dashboard")},styleClass:"dashboardItem"},{label:"Gr\xe1ficos",icon:"pi pi-fw pi-chart-line",command:t=>{this.goToStep("dashboard/graficos")}},{label:"Cliente",disabled:!0,styleClass:"clienteItem"},{label:"Lista de Ordenes",icon:"pi pi-fw pi-calendar-minus",command:t=>{this.goToStep("dashboard/orderlist")}},{label:"Dep\xf3sito",icon:"pi pi-fw pi-credit-card",command:t=>{this.goToStep("dashboard/deposit")}},{label:"Retiro",icon:"pi pi-fw pi-sync",command:t=>{this.goToStep("dashboard/retire")}},{label:"Detalle Cuenta",icon:"pi pi-fw pi-user",command:t=>{this.goToStep("dashboard/clientDetail")}},{label:"Movimientos",icon:"pi pi-fw pi-calendar-minus",command:t=>{this.openMovements()}},{label:"Cerrar sesi\xf3n",icon:"pi pi-fw pi-sign-out",command:t=>{this.goToStep("login")},styleClass:"dashboardItem"}]),this.items.forEach((t,s)=>{this.items[s].styleClass=this.items[s].styleClass+" itemClasses mat-typography"})}goToStep(t){this.authService.logout(),this.util.goToStep(t)}openMovements(){this.router.navigate(["/dashboard/movementslist"],{queryParams:{byClient:!0}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G.f),e.Y36(y.e),e.Y36(T.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidenav"]],decls:6,vars:8,consts:[[1,"flex","flex-column","h-full"],[1,"overflow-y-auto"],[1,"w-full","relative"],["src","assets/Img/chronologo.png",1,"absolute","left-0","right-0","m-auto","mt-3"],[3,"model"],["pTemplate","end"],[1,"mt-auto","hiden_name"],[1,"mb-3","mx-3","border-top-1","border-none","surface-border"],["pripple","",1,"p-ripple","p-element","m-3","flex","align-items-center","cursor-pointer","p-3","border-round","text-700","hover:surface-100","transition-duration-150","transition-colors"],[1,"font-medium"],[1,"p-ink"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"p-menubar",4),e.YNc(5,se,6,1,"ng-template",5),e.qZA()()()),2&t&&(e.xp6(3),e.Akn(s.width>960?e.DdM(5,ie):e.DdM(6,ne)),e.xp6(1),e.Akn(e.DdM(7,oe)),e.Q6J("model",s.items))},dependencies:[Z.jx,L.nm],styles:["li.itemClasses{padding:5px!important}  li.dashboardItem{padding-block:25px 50px!important}  li.logOutItem{padding-block:50px 0!important}  div.overflow-y-auto{height:100%}  div.overflow-y-auto div.p-menubar{background-color:transparent;border:none;flex-direction:column;width:100%;align-items:flex-start;display:flex;justify-content:space-between;height:100%;position:initial}  div.overflow-y-auto ul{flex-direction:column;align-items:start}  .p-menubar-end{width:100%!important}@media (max-width: 960px){  div.overflow-y-auto ul{display:flex}  .clienteItem{display:none}  li.itemClasses,   li.dashboardItem,   li.logOutItem{padding:5px!important}  div.hiden_name{display:none}  p-menubarsub.p-element{width:100%;position:absolute;top:45px;left:0}}"]}),n})(),ae=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main"]],decls:5,vars:0,consts:[[1,"min-h-screen","flex","relative","lg:static","surface-ground","w-screen"],[1,"surface-section","h-full","h-auto","lg:block","flex-shrink-0","lg:static","left-0","top-0","z-1","border-right-1","surface-border","select-none",2,"width","280px"],[1,"w-12","overflow-hidden","min-h-screen","flex","flex-column","relative","flex-autox"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-sidenav"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[T.lC,re],styles:["@media (max-width: 960px){  .surface-section{width:100%!important;height:60px!important;min-height:auto!important;background-color:#1f2d40!important;position:static!important}  .min-h-screen{flex-direction:column}}"]}),n})();const q_baseUrl="https://Inaqstock.com/api";var f=d(4004),S=d(8505),N=d(262),E=d(9646);let O=(()=>{class n{constructor(t){this.http=t,this.baseUrl=q_baseUrl;const s=new Date;this.usuarioSeleccionado={currency:{name:"",code:""},_id:"",name:"",surname:"",birthday:s,email:"",address:"",company:"",contactNumber:0,whatsapp:0,password:"",__v:0}}setClientSelected(t){this.usuarioSeleccionado=t}getCustomersLarge(){return this.http.get("assets/customers-large.json").toPromise().then(t=>t.data).then(t=>t)}getClients(){return this.http.get(`${this.baseUrl}/clients/all`).pipe((0,f.U)(s=>s))}updateClient(t){const s={_id:t._id,name:t.name,surname:t.surname,birthday:t.birthday,email:t.email,address:t.address,company:t.company,contactNumber:t.contactNumber,whatsapp:t.whatsapp,country:t.country,currency:t.currency,password:""};return t.password&&(s.password=t.password),this.http.post(`${this.baseUrl}/clients/update`,s).pipe((0,f.U)(o=>o))}deleteClient(t){return this.http.delete(`${this.baseUrl}/clients/${t._id}`).pipe((0,f.U)(i=>i))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U=(()=>{class n{constructor(t,s,i){this.http=t,this.clientService=s,this.authService=i,this.baseUrl=q_baseUrl}get usuario(){return this.clientService.usuarioSeleccionado}get usuarioLogin(){return this.authService.usuario}getUserName(){return{name:this.usuario.name,surname:this.usuario.surname}}getUserID(){return this.clientService.usuarioSeleccionado._id}getCustomersLarges(){return this.http.get("assets/orders-large.json").toPromise().then(t=>t.datas).then(t=>t)}getFormatedDate(t){let s=new Date(t);return{day:s.getUTCDate(),month:s.getUTCMonth()+1,year:s.getUTCFullYear()}}updateOperationValue(t,s,i=!1){let o={_id:t._id,operationActions:s};return i&&(o.operationDate=new Date(i)),console.log(o),this.http.put(`${this.baseUrl}/orders/update`,o).pipe((0,f.U)(l=>l))}deleteOrder(t){const s=`${this.baseUrl}/orders/delete/${t._id}`;return console.log(s),this.http.delete(s).pipe((0,f.U)(i=>i))}registro(t){const s=`${this.baseUrl}/orders/new`;return t.clientId=this.usuario._id,this.http.post(s,{orden:t}).pipe((0,S.b)(({})=>{}),(0,f.U)(o=>o.ok),(0,N.K)(o=>(0,E.of)(o.error.msg)))}getOrders(){return this.http.get(`${this.baseUrl}/orders/all`).pipe((0,f.U)(s=>s))}getOrdersByClient(t=this.usuario){const s=t,i=`${this.baseUrl}/orders/client`,o=(new x.WM).set("x-clientId",s._id||"");return this.http.get(i,{headers:o}).pipe((0,f.U)(a=>a))}getOrdersByClientNoAdmin(){const t=this.usuarioLogin,s=`${this.baseUrl}/orders/client`,i=(new x.WM).set("x-clientId",t._id||"");return this.http.get(s,{headers:i}).pipe((0,f.U)(o=>o))}updateStatus(t,s){return this.http.post(`${this.baseUrl}/orders/update/status`,{_id:t._id,status:s}).pipe((0,f.U)(a=>a))}updateStatusFinalizado(t,s,i){return this.http.post(`${this.baseUrl}/orders/update/status/end`,{_id:t._id,status:s,operationValue:i,operationActions:t.operationActions,isWithdrawl:t.isWithdrawl}).pipe((0,f.U)(l=>l))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN),e.LFG(O),e.LFG(y.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var D=d(585),J=d(2210),Q=d(613),le=d(9364);function me(n,r){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"h2"),e._uU(3,"Orden"),e.qZA(),e._UZ(4,"p-chart",4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("data",t.dataChart)}}function ce(n,r){if(1&n&&(e.TgZ(0,"div",5)(1,"div",3)(2,"h2"),e._uU(3,"Movimientos"),e.qZA(),e._UZ(4,"p-chart",6),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("data",t.dataChart)("height",t.windowHeight<500?"null":"400px")}}let Y=(()=>{class n{constructor(){this.showOrdenChart=!1,this.windowHeight=0,this.dataChart={labels:[],datasets:[{label:"",backgroundColor:"",data:[]}]}}ngOnInit(){this.windowHeight=window.screen.height,this.orderClient={labels:["Enero","Febrero","Marzo"],datasets:[{label:"My First dataset",backgroundColor:"#42A5F5",data:[65,59,80]},{label:"My Second dataset",backgroundColor:"#FFA726",data:[28,48,40]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-charts"]],inputs:{dataChart:"dataChart",showOrdenChart:"showOrdenChart"},decls:2,vars:2,consts:[["class","surface-card shadow-2 border-round p-3",4,"ngIf"],["class","surface-card shadow-2 border-round p-3 mt-2",4,"ngIf"],[1,"surface-card","shadow-2","border-round","p-3"],[1,"card"],["type","bar",1,"",3,"data"],[1,"surface-card","shadow-2","border-round","p-3","mt-2"],["type","bar",3,"data","height"]],template:function(t,s){1&t&&(e.YNc(0,me,5,1,"div",0),e.YNc(1,ce,5,2,"div",1)),2&t&&(e.Q6J("ngIf",s.showOrdenChart),e.xp6(1),e.Q6J("ngIf",!s.showOrdenChart))},dependencies:[v.O5,le.C]}),n})(),de=(()=>{class n{constructor(t){this.http=t,this.baseUrl=q_baseUrl}getNoticia(){return this.http.get(`${this.baseUrl}/news/obtener`).pipe((0,f.U)(s=>s))}updateStatus(t){return this.http.post(`${this.baseUrl}/news/actualizar`,{_id:"6308f9b7b6b092a2cb9b73b5",news:t}).pipe((0,f.U)(o=>o))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=d(5593),B=d(1493),k=d(2453);function he(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openModal())}),e.qZA()()}}function pe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"label",13),e._uU(3," Noticia "),e.qZA(),e.TgZ(4,"span")(5,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.textNoticia=i)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.textNoticia)}}function ue(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cambiarNoticiaModal=!1)}),e.qZA(),e.TgZ(1,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cambiarNoticia())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.enableButton())}}const ge=function(){return{width:"45%"}};let _e=(()=>{class n{constructor(t,s,i){this.news=t,this.messageService=s,this.authService=i,this.noticia="",this.cambiarNoticiaModal=!1,this.textNoticia="",this.role=this.authService.getRole(),this.obtenerNoticia()}obtenerNoticia(){this.news.getNoticia().subscribe(t=>{this.noticia=t.news[0].new})}enableButton(){return""===this.textNoticia}openModal(){this.cambiarNoticiaModal=!0}cambiarNoticia(){this.news.updateStatus(this.textNoticia).subscribe(t=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Estado actualizado"}),this.obtenerNoticia(),this.cambiarNoticiaModal=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(de),e.Y36(Z.ez),e.Y36(y.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-news"]],decls:12,vars:7,consts:[[1,"surface-card","shadow-2","border-round","p-4"],[1,"text-xl","text-900","font-medium","mb-5"],[1,"list-none","p-0","m-0"],[1,"pb-3","border-bottom-1","surface-border"],[1,"line-height-3","text-600",2,"max-width","30rem"],["class","mt-5",4,"ngIf"],["header","Cambiar Noticia","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"mt-5"],["pButton","","type","button","label","Cambiar Noticia",3,"click"],[1,"grid","formgrid","p-fluid"],[1,"field","mb-4","col-8"],["for","name",1,"font-medium","text-900"],["id","address","type","text","placeholder","Digite la noticia que desea mostrar",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-success","p-button-text",3,"disabled","click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Noticias"),e.qZA(),e.TgZ(3,"ul",2)(4,"li",3)(5,"div",4),e._uU(6),e.qZA()()(),e.YNc(7,he,2,0,"div",5),e.qZA(),e.TgZ(8,"p-dialog",6),e.NdJ("visibleChange",function(o){return s.cambiarNoticiaModal=o}),e.YNc(9,pe,6,1,"ng-template",7),e.YNc(10,ue,2,1,"ng-template",8),e.qZA(),e._UZ(11,"p-toast")),2&t&&(e.xp6(6),e.hij(" ",s.noticia," "),e.xp6(1),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Akn(e.DdM(6,ge)),e.Q6J("visible",s.cambiarNoticiaModal)("modal",!0))},dependencies:[v.O5,M.Hq,Z.jx,B.V,k.FN,w.Fj,w.JJ,w.On]}),n})();function be(n,r){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2"),e._uU(3,"Mi Cuenta"),e.qZA(),e.TgZ(4,"h3"),e._uU(5),e.qZA(),e.TgZ(6,"h2"),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij("ID: ",t.sequenceID,""),e.xp6(2),e.hij("Balance: $ ",t.balance,"")}}let z=(()=>{class n{constructor(t,s){this.ordersServices=t,this.router=s,this.showOrdenChart=!1,this.ordersList=[],this.orders=[],this.total=0,this.nameClient="",this.date=new Date,this.balance=0,this.operationActionsValue=0,this.sequenceID=0,this.byClient=!1,this.dataChart={labels:[],datasets:[{label:"",backgroundColor:"",data:[]}]},this.router.queryParams.subscribe(i=>{this.byClient=i.byClient})}ngOnInit(){let t;this.byClient?(t=this.ordersServices.getOrdersByClient(),this.sequenceID=this.ordersServices.usuario.sequenceId):(t=this.ordersServices.getOrdersByClientNoAdmin(),this.sequenceID=this.ordersServices.usuarioLogin.sequenceId),this.ordersList=[],t.subscribe(i=>{console.log(this.ordersServices.usuario.sequenceId,"this.orders"),this.orders=i.ordenes,this.orders.forEach(o=>{o.operationActions.forEach(a=>{o.isCapital&&(this.balance+=a.benefit*a.quantity)}),this.balance+=o.operationValue}),this.userID=this.ordersServices.usuarioLogin._id});const s=this.ordersServices.getUserName();this.nameClient=`${s.name} ${s.surname}`}paddy(t,s,i){var o=typeof i<"u"?i:"0",a=new Array(1+s).join(o);return(a+t).slice(-a.length)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U),e.Y36(T.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-details"]],inputs:{dataChart:"dataChart",showOrdenChart:"showOrdenChart"},decls:1,vars:1,consts:[["class","surface-card shadow-2 border-round p-3 mt-2",4,"ngIf"],[1,"surface-card","shadow-2","border-round","p-3","mt-2"],[1,"card","my-account-wrapper"]],template:function(t,s){1&t&&e.YNc(0,be,8,2,"div",0),2&t&&e.Q6J("ngIf",!s.showOrdenChart)},dependencies:[v.O5],styles:[".my-account-wrapper[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.my-account-wrapper[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:nth-child(3){margin-top:20px;font-size:large}"]}),n})();function Ce(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"p-radioButton",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedOption=i)}),e.qZA(),e.TgZ(2,"label",19),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,s=e.oxw();e.xp6(1),e.Q6J("inputId",t.key)("value",t)("ngModel",s.selectedOption)("disabled","R"===t.key),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Oqu(t.name)}}function ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",21),e._uU(2,"Seleccionar Mes"),e.qZA(),e.TgZ(3,"p-calendar",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.date2=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMonth())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.date2)("readonlyInput",!0)}}function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"label",23),e._uU(2,"Seleccionar Trimestre"),e.qZA(),e.TgZ(3,"p-dropdown",24),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedTrimestre=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectTrimestre())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.trimestres)("ngModel",t.selectedTrimestre)("showClear",!0)}}function we(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"p-radioButton",26),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.semestreOption=i)})("ngModelChange",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.selectSemestre(o.id))}),e.qZA(),e.TgZ(2,"label",19),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("inputId",t.id)("value",t)("ngModel",s.semestreOption),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Oqu(t.name)}}function Ze(n,r){if(1&n&&(e.TgZ(0,"div",9)(1,"label",25),e._uU(2,"Seleccionar Semestre"),e.qZA(),e.YNc(3,we,4,5,"div",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.semestres)}}let Te=(()=>{class n{constructor(t,s,i,o){this.ordersServices=t,this.router=s,this.messageService=i,this.datePipe=o,this.ordersList=[],this.orders=[],this.total=0,this.byClient=!1,this.nameClient="",this.numOrdenNueva=0,this.date=new Date,this.accionistas=[],this.accionistaName="",this.accionistaQuantity=0,this.accionistaBenefit=0,this.totalFinalizado=0,this.date2=new Date,this.date1=new Date,this.selectedOption={name:"",key:""},this.options=[{name:"Mes",key:"M"},{name:"Trimestre",key:"T"},{name:"Semestre",key:"S"}],this.semestreOption=null,this.semestres=[{id:"1",name:"1\xb0 Semestre"},{id:"2",name:"2\xb0 Semestre"}],this.trimestres=[],this.selectedTrimestre={id:"",name:""},this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[]},{label:"Perdidas",backgroundColor:"#EC407A",data:[]}]},this.months={ene:{winnings:3,losses:7,inversion:10},feb:{winnings:0,losses:0,inversion:0},mar:{winnings:0,losses:0,inversion:0},abr:{winnings:0,losses:0,inversion:0},may:{winnings:0,losses:0,inversion:0},jun:{winnings:0,losses:0,inversion:0},jul:{winnings:0,losses:0,inversion:0},ago:{winnings:0,losses:0,inversion:0},sep:{winnings:0,losses:0,inversion:0},oct:{winnings:0,losses:0,inversion:0},nov:{winnings:0,losses:0,inversion:0},dic:{winnings:0,losses:0,inversion:0}},this.trimestre={trimestre1:{winnings:0,losses:0,inversion:0},trimestre2:{winnings:0,losses:0,inversion:0},trimestre3:{winnings:0,losses:0,inversion:0},trimestre4:{winnings:0,losses:0,inversion:0}},this.semestre={semestre1:{winnings:0,losses:0,inversion:0},semestre2:{winnings:0,losses:0,inversion:0}};const a=new Date;this.orderSelected={clientId:"",operationActions:[],operationDate:a,operationNumber:0,operationStatus:"",operationValue:0,isCapital:!1},this.trimestres=[{id:"1",name:"1\xb0 Trimestre"},{id:"2",name:"2\xb0 Trimestre"},{id:"3",name:"3\xb0 Trimestre"},{id:"4",name:"4\xb0 Trimestre"}],this.router.queryParams.subscribe(l=>{this.byClient=l.byClient}),this.byClient?this.getByClient():this.getByClientNoAdmin()}ngOnInit(){this.router.queryParams.subscribe(t=>{console.log(t)})}getByClient(){this.ordersList=[],this.ordersServices.getOrdersByClient().subscribe(s=>{this.orders=s.ordenes,this.orders.forEach(i=>{let o=0;i.operationActions.forEach(m=>{i.isCapital&&(o+=m.benefit*m.quantity)});let a="$0.00";i.operationValue<0?a=`$-${Math.abs(i.operationValue)}.00`:i.operationValue>0&&(a=`$${i.operationValue}.00`);const l={total:o,orders:i,colorStatus:this.setColorStatus(i.operationStatus),valorFinal:a,isCapital:i.isCapital,isWithdrawl:i.isWithdrawl};this.ordersList.push(l)}),this.getDataOnCharts()});const t=this.ordersServices.getUserName();this.nameClient=`${t.name} ${t.surname}`}getByClientNoAdmin(){this.ordersList=[],this.ordersServices.getOrdersByClientNoAdmin().subscribe(s=>{this.orders=s.ordenes,this.orders.forEach(i=>{let o=0;i.operationActions.forEach(m=>{i.isCapital&&(o+=m.benefit*m.quantity)});let a="$0.00";i.operationValue<0?a=`$-${Math.abs(i.operationValue)}.00`:i.operationValue>0&&(a=`$${i.operationValue}.00`);const l={total:o,orders:i,colorStatus:this.setColorStatus(i.operationStatus),valorFinal:a,isCapital:i.isCapital,isWithdrawl:i.isWithdrawl};this.ordersList.push(l)}),this.getDataOnCharts()});const t=this.ordersServices.getUserName();this.nameClient=`${t.name} ${t.surname}`}setColorStatus(t){return"Finalizado"===t||"Cancelado"===t?t:"new"}getDataOnCharts(){this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[]},{label:"Perdidas",backgroundColor:"#EC407A",data:[]}]},this.months={ene:{winnings:0,losses:0,inversion:0},feb:{winnings:0,losses:0,inversion:0},mar:{winnings:0,losses:0,inversion:0},abr:{winnings:0,losses:0,inversion:0},may:{winnings:0,losses:0,inversion:0},jun:{winnings:0,losses:0,inversion:0},jul:{winnings:0,losses:0,inversion:0},ago:{winnings:0,losses:0,inversion:0},sep:{winnings:0,losses:0,inversion:0},oct:{winnings:0,losses:0,inversion:0},nov:{winnings:0,losses:0,inversion:0},dic:{winnings:0,losses:0,inversion:0}},this.trimestre={trimestre1:{winnings:0,losses:0,inversion:0},trimestre2:{winnings:0,losses:0,inversion:0},trimestre3:{winnings:0,losses:0,inversion:0},trimestre4:{winnings:0,losses:0,inversion:0}},this.semestre={semestre1:{winnings:0,losses:0,inversion:0},semestre2:{winnings:0,losses:0,inversion:0}},this.ordersList.forEach(t=>{const s=this.datePipe.transform(t.orders.operationDate,"yyyy"),i=this.datePipe.transform(t.orders.operationDate,"MM");if(s===this.datePipe.transform(this.date1,"yyyy"))switch(i){case"01":const o=this.asginarValueMonth(t);this.months.ene.winnings=this.months.ene.winnings+o.winnings,this.months.ene.losses=this.months.ene.losses+o.losses,this.months.ene.inversion=this.months.ene.inversion+o.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+o.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+o.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+o.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+o.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+o.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+o.inversion;break;case"02":const a=this.asginarValueMonth(t);this.months.feb.winnings=this.months.feb.winnings+a.winnings,this.months.feb.losses=this.months.feb.losses+a.losses,this.months.feb.inversion=this.months.feb.inversion+a.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+a.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+a.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+a.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+a.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+a.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+a.inversion;break;case"03":const l=this.asginarValueMonth(t);this.months.mar.winnings=this.months.mar.winnings+l.winnings,this.months.mar.losses=this.months.mar.losses+l.losses,this.months.mar.inversion=this.months.mar.inversion+l.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+l.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+l.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+l.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+l.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+l.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+l.inversion;break;case"04":const m=this.asginarValueMonth(t);this.months.abr.winnings=this.months.abr.winnings+m.winnings,this.months.abr.losses=this.months.abr.losses+m.losses,this.months.abr.inversion=m.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+m.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+m.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+m.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+m.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+m.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+m.inversion;break;case"05":const c=this.asginarValueMonth(t);this.months.may.winnings=this.months.may.winnings+c.winnings,this.months.may.losses=this.months.may.losses+c.losses,this.months.may.inversion=this.months.may.inversion+c.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+c.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+c.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+c.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+c.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+c.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+c.inversion;break;case"06":const h=this.asginarValueMonth(t);this.months.jun.winnings=this.months.jun.winnings+h.winnings,this.months.jun.losses=this.months.jun.losses+h.losses,this.months.jun.inversion=this.months.jun.inversion+h.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+h.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+h.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+h.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+h.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+h.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+h.inversion;break;case"07":const p=this.asginarValueMonth(t);this.months.jul.winnings=this.months.jul.winnings+p.winnings,this.months.jul.losses=this.months.jul.losses+p.losses,this.months.jul.inversion=this.months.jul.inversion+p.inversion,this.trimestre.trimestre3.winnings=this.trimestre.trimestre3.winnings+p.winnings,this.trimestre.trimestre3.losses=this.trimestre.trimestre3.losses+p.losses,this.trimestre.trimestre3.inversion=this.trimestre.trimestre3.inversion+p.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+p.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+p.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+p.inversion;break;case"08":const u=this.asginarValueMonth(t);this.months.ago.winnings=this.months.ago.winnings+u.winnings,this.months.ago.losses=this.months.ago.losses+u.losses,this.months.ago.inversion=this.months.ago.inversion+u.inversion,this.trimestre.trimestre3.winnings=this.months.ago.winnings+u.winnings,this.trimestre.trimestre3.losses=this.months.ago.losses+u.losses,this.trimestre.trimestre3.inversion=this.months.ago.inversion+u.inversion,this.semestre.semestre2.winnings=this.months.ago.winnings+u.winnings,this.semestre.semestre2.losses=this.months.ago.losses+u.losses,this.semestre.semestre2.inversion=this.months.ago.inversion+u.inversion;break;case"09":const g=this.asginarValueMonth(t);this.months.sep.winnings=this.months.sep.winnings+g.winnings,this.months.sep.losses=this.months.sep.losses+g.losses,this.months.sep.inversion=this.months.sep.inversion+g.inversion,this.trimestre.trimestre3.winnings=this.trimestre.trimestre3.winnings+g.winnings,this.trimestre.trimestre3.losses=this.trimestre.trimestre3.losses+g.losses,this.trimestre.trimestre3.inversion=this.trimestre.trimestre3.inversion+g.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+g.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+g.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+g.inversion;break;case"10":const _=this.asginarValueMonth(t);this.months.oct.winnings=this.months.oct.winnings+_.winnings,this.months.oct.losses=this.months.oct.losses+_.losses,this.months.oct.inversion=this.months.oct.inversion+_.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+_.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+_.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+_.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+_.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+_.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+_.inversion;break;case"11":const b=this.asginarValueMonth(t);this.months.nov.winnings=this.months.nov.winnings+b.winnings,this.months.nov.losses=this.months.nov.losses+b.losses,this.months.nov.inversion=this.months.nov.inversion+b.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+b.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+b.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+b.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+b.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+b.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+b.inversion;break;case"12":const C=this.asginarValueMonth(t);this.months.dic.winnings=this.months.dic.winnings+C.winnings,this.months.dic.losses=this.months.dic.losses+C.losses,this.months.dic.inversion=this.months.dic.inversion+C.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+C.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+C.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+C.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+C.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+C.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+C.inversion}}),this.selectMonth()}asginarValueMonth(t){let s=0,i={winnings:0,losses:0,inversion:0};return t.orders.operationValue>0||!t.orders.isCapital&&t.orders.isWithdrawl?i.winnings=i.winnings+t.orders.operationValue:i.losses=i.losses+Math.abs(t.orders.operationValue),t.orders.operationActions.forEach(o=>{t.orders.isCapital&&(s+=o.benefit*o.quantity)}),i.inversion=s,i}selectMonth(){switch(this.date2.toLocaleString("es-ES",{month:"numeric"})){case"1":this.dataChart={labels:["Enero"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses]}]};break;case"2":this.dataChart={labels:["Febrero"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.feb.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.feb.losses]}]};break;case"3":this.dataChart={labels:["Marzo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.mar.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.mar.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.mar.losses]}]};break;case"4":this.dataChart={labels:["Abril"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.abr.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.abr.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.abr.losses]}]};break;case"5":this.dataChart={labels:["Mayo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.may.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.may.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.may.losses]}]};break;case"6":this.dataChart={labels:["Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jun.losses]}]};break;case"7":this.dataChart={labels:["Julio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses]}]};break;case"8":this.dataChart={labels:["Agosto"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ago.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ago.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ago.losses]}]};break;case"9":this.dataChart={labels:["Septiembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.sep.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.sep.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.sep.losses]}]};break;case"10":this.dataChart={labels:["Octubre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.oct.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.oct.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.oct.losses]}]};break;case"11":this.dataChart={labels:["Noviembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.nov.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.nov.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.nov.losses]}]};break;case"12":this.dataChart={labels:["Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.dic.losses]}]}}}selectTrimestre(){switch(this.selectedTrimestre.id){case"1":this.dataChart={labels:["Enero","Febrero","Marzo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion,this.months.feb.inversion,this.months.mar.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings,this.months.feb.winnings,this.months.mar.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses,this.months.feb.losses,this.months.mar.losses]}]};break;case"2":this.dataChart={labels:["Abril","Mayo","Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.abr.inversion,this.months.may.inversion,this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.abr.winnings,this.months.may.winnings,this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.abr.losses,this.months.may.losses,this.months.jun.losses]}]};break;case"3":this.dataChart={labels:["Julio","Agosto","Septiembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion,this.months.ago.inversion,this.months.sep.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings,this.months.ago.winnings,this.months.sep.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses,this.months.ago.losses,this.months.sep.losses]}]};break;case"4":this.dataChart={labels:["Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.oct.inversion,this.months.nov.inversion,this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.oct.winnings,this.months.nov.winnings,this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.oct.losses,this.months.nov.losses,this.months.dic.losses]}]}}}selectSemestre(t){switch(t){case"1":this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion,this.months.feb.inversion,this.months.mar.inversion,this.months.abr.inversion,this.months.may.inversion,this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings,this.months.feb.winnings,this.months.mar.winnings,this.months.abr.winnings,this.months.may.winnings,this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses,this.months.feb.losses,this.months.mar.losses,this.months.abr.losses,this.months.may.losses,this.months.jun.losses]}]};break;case"2":this.dataChart={labels:["Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion,this.months.ago.inversion,this.months.sep.inversion,this.months.oct.inversion,this.months.nov.inversion,this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings,this.months.ago.winnings,this.months.sep.winnings,this.months.oct.winnings,this.months.nov.winnings,this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses,this.months.ago.losses,this.months.sep.losses,this.months.oct.losses,this.months.nov.losses,this.months.dic.losses]}]}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U),e.Y36(T.gz),e.Y36(Z.ez),e.Y36(v.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-control"]],decls:29,vars:6,consts:[[1,"min-h-screen","flex","flex-column","relative","flex-auto"],[1,"flex","flex-column","flex-auto"],[1,"p-3","md:p-5"],[1,"grid","justify-content-center","md:justify-content-start"],[1,"grid","wrapper"],[3,"dataChart"],[1,"surface-card","shadow-2","p-3","mt-3","border-50","border-round"],[1,"block","text-500","font-medium","mb-3"],[1,"flex","justify-content-between"],[1,"field","flex","flex-column"],["for","yearpicker"],["view","year","dateFormat","yy","inputId","yearpicker",3,"ngModel","ngModelChange","click"],["class","field-checkbox mb-2",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","mt-3"],["class","field mt-2 flex flex-column",4,"ngIf"],["class","field flex flex-column",4,"ngIf"],[1,"col-12",2,"padding-left","0"],[1,"field-checkbox","mb-2"],["name","category",3,"inputId","value","ngModel","disabled","ngModelChange"],[3,"for"],[1,"field","mt-2","flex","flex-column"],["for","monthpicker"],["view","month","dateFormat","MM","inputId","monthpicker",3,"ngModel","readonlyInput","ngModelChange"],["for","trimestrePicker"],["placeholder","Seleccione","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],["for","semestrePicker"],["name","category",3,"inputId","value","ngModel","ngModelChange"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"div"),e._UZ(7,"app-account-details"),e.qZA(),e.TgZ(8,"div"),e._UZ(9,"app-charts",5),e.qZA()(),e.TgZ(10,"div")(11,"div",6)(12,"label",7),e._uU(13," Selecci\xf3n de per\xedodos "),e.qZA(),e.TgZ(14,"div",8)(15,"div",9)(16,"label",10),e._uU(17,"Seleccionar A\xf1o"),e.qZA(),e.TgZ(18,"p-calendar",11),e.NdJ("ngModelChange",function(o){return s.date1=o})("click",function(){return s.getDataOnCharts()}),e.qZA()()(),e._UZ(19,"div",8),e.YNc(20,Ce,4,6,"div",12),e._UZ(21,"div",13),e.YNc(22,ve,4,2,"div",14),e._UZ(23,"div",13),e.YNc(24,fe,4,3,"div",15),e._UZ(25,"div",13),e.YNc(26,Ze,4,1,"div",15),e.qZA()()(),e.TgZ(27,"div",16),e._UZ(28,"app-news"),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("dataChart",s.dataChart),e.xp6(9),e.Q6J("ngModel",s.date1),e.xp6(2),e.Q6J("ngForOf",s.options),e.xp6(2),e.Q6J("ngIf","M"===s.selectedOption.key),e.xp6(2),e.Q6J("ngIf","T"===s.selectedOption.key),e.xp6(2),e.Q6J("ngIf","S"===s.selectedOption.key))},dependencies:[v.sg,v.O5,D.f,J.Lt,Q.EU,w.JJ,w.On,Y,_e,z],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:80% auto;padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1) > div[_ngcontent-%COMP%]{padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){grid-column:1/2}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){grid-column:2/3;grid-row:1/2;padding:8px}@media (max-width: 960px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:100%;width:100%}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){grid-column:1/2;padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){grid-row:2/3}}"]}),n})();var P=(()=>{return(n=P||(P={})).Empty="",n.The1="+1",n.The2="+2",n.The3="+3",n.The4="+4",n.The5="+5",n.The6="+6",n.The7="+7",n.The8="+8",n.The9="+9",P;var n})(),F=d(1740),A=d(793);const Ae=["dt"];function xe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.TgZ(3,"input",27),e.NdJ("input",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilterGlobal(i,"contains"))}),e.qZA()()()}}function ye(n,r){1&n&&(e.TgZ(0,"tr")(1,"th",28)(2,"div",29)(3,"span"),e._uU(4,"ID"),e.qZA(),e._UZ(5,"p-sortIcon",30),e.qZA()(),e.TgZ(6,"th",31)(7,"div",29)(8,"span"),e._uU(9,"Nombres"),e.qZA(),e._UZ(10,"p-sortIcon",32),e.qZA()(),e.TgZ(11,"th",33)(12,"div",29)(13,"span"),e._uU(14,"Apellidos"),e.qZA(),e._UZ(15,"p-sortIcon",34),e.qZA()(),e.TgZ(16,"th",35)(17,"div",29)(18,"span"),e._UZ(19,"i",36),e._uU(20," E-mail "),e.qZA(),e._UZ(21,"p-sortIcon",37),e.qZA()(),e.TgZ(22,"th",38)(23,"div",29)(24,"span"),e._UZ(25,"i",39),e._uU(26," Moneda "),e.qZA(),e._UZ(27,"p-sortIcon",40),e.qZA()(),e.TgZ(28,"th",41)(29,"div")(30,"span"),e._UZ(31,"i",42),e._uU(32," Pa\xeds "),e.qZA(),e._UZ(33,"p-sortIcon",43),e.qZA()(),e.TgZ(34,"th")(35,"div",29),e._uU(36,"Ver M\xe1s"),e.qZA()(),e.TgZ(37,"th")(38,"div",29),e._uU(39,"Editar"),e.qZA()(),e.TgZ(40,"th")(41,"div",29),e._uU(42," Ver Ordenes "),e.qZA()(),e.TgZ(43,"th")(44,"div",29),e._uU(45," Eliminar usuario "),e.qZA()()())}function Me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr",44)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"img",45),e.TgZ(13,"span",46),e._uU(14),e.qZA()(),e.TgZ(15,"td",47)(16,"button",48),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.showMore(o))}),e.qZA()(),e.TgZ(17,"td",47)(18,"button",49),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openEditClient(o))}),e.qZA()(),e.TgZ(19,"td",47)(20,"button",50),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openOrder(o))}),e.qZA()(),e.TgZ(21,"td",47)(22,"button",51),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.confirmDelete(o))}),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.sequenceId),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.surname),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.currency.name),e.xp6(2),e.Q6J("src",null==t.country?null:t.country.flag,e.LSH),e.xp6(2),e.Oqu(null==t.country?null:t.country.name)}}function qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"div",53)(2,"label",54),e._uU(3,"Nombre"),e.qZA(),e.TgZ(4,"span")(5,"input",55),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.name=i)}),e.qZA()()(),e.TgZ(6,"div",53)(7,"label",56),e._uU(8,"Apellido"),e.qZA(),e.TgZ(9,"span")(10,"input",57),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.surname=i)}),e.qZA()()(),e.TgZ(11,"div",53)(12,"label",58),e._uU(13,"Fecha nacimiento"),e.qZA(),e.TgZ(14,"p-calendar",59),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.birthday=i)}),e.qZA()(),e.TgZ(15,"div",60)(16,"label",58),e._uU(17,"Fecha Actual:"),e.qZA(),e._UZ(18,"input",61),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"div",60)(21,"label",62),e._uU(22,"Correo electronico"),e.qZA(),e.TgZ(23,"span",63),e._UZ(24,"i",64),e.TgZ(25,"input",65),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.email=i)}),e.qZA()()(),e.TgZ(26,"div",53)(27,"label",66),e._uU(28,"Direcci\xf3n"),e.qZA(),e.TgZ(29,"span",63),e._UZ(30,"i",67),e.TgZ(31,"input",68),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.address=i)}),e.qZA()()(),e.TgZ(32,"div",53)(33,"label",69),e._uU(34,"Celular"),e.qZA(),e.TgZ(35,"span",63),e._UZ(36,"i",70),e.TgZ(37,"input",71),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.contactNumber=i)}),e.qZA()()(),e.TgZ(38,"div",53)(39,"label",72),e._uU(40,"Whatsapp"),e.qZA(),e.TgZ(41,"span",63),e._UZ(42,"i",73),e.TgZ(43,"input",74),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.whatsapp=i)}),e.qZA()()(),e.TgZ(44,"div",53)(45,"label",75),e._uU(46,"Pais"),e.qZA(),e.TgZ(47,"p-dropdown",76),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.country=i)})("onChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.setCurrencyDropBox(i.country))}),e.qZA()(),e.TgZ(48,"div",60)(49,"label",75),e._uU(50,"Pa\xeds Actual:"),e.qZA(),e._UZ(51,"input",61),e.qZA(),e.TgZ(52,"div",53)(53,"label",77),e._uU(54,"Compa\xf1ia"),e.qZA(),e.TgZ(55,"span",63),e._UZ(56,"i",78),e.TgZ(57,"input",79),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.company=i)}),e.qZA()()(),e.TgZ(58,"div",53)(59,"label",80),e._uU(60,"Moneda"),e.qZA(),e.TgZ(61,"p-dropdown",81),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.currency=i)}),e.qZA()(),e.TgZ(62,"div",53)(63,"label",82),e._uU(64," Cambiar Contrase\xf1a "),e.qZA(),e.TgZ(65,"span",63),e._UZ(66,"i",78),e.TgZ(67,"input",83),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.changeUserPassword=i)}),e.qZA()()(),e.TgZ(68,"div",53)(69,"label",84),e._uU(70," Confirmar Contrase\xf1a "),e.qZA(),e.TgZ(71,"span",63),e._UZ(72,"i",78),e.TgZ(73,"input",85),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmUserPassword=i)}),e.qZA()()(),e._UZ(74,"div",86),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.name),e.xp6(5),e.Q6J("ngModel",t.surname),e.xp6(4),e.Q6J("ngModel",t.birthday),e.xp6(4),e.Q6J("value",e.xi3(19,17,t.selectedCustomers[0].birthday,"MM/dd/yyyy")),e.xp6(7),e.Q6J("ngModel",t.email),e.xp6(6),e.Q6J("ngModel",t.address),e.xp6(6),e.Q6J("ngModel",t.contactNumber),e.xp6(6),e.Q6J("ngModel",t.whatsapp),e.xp6(4),e.Q6J("options",t.countries)("ngModel",t.country),e.xp6(4),e.Q6J("value",t.selectedCustomers[0].country.name),e.xp6(6),e.Q6J("ngModel",t.company),e.xp6(4),e.Q6J("options",t.currencys)("ngModel",t.currency)("disabled",!0),e.xp6(6),e.Q6J("ngModel",t.changeUserPassword),e.xp6(6),e.Q6J("ngModel",t.confirmUserPassword)}}function Ue(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteData())}),e.qZA(),e.TgZ(1,"button",88),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateClient())}),e.qZA()}}function ke(n,r){if(1&n&&(e.TgZ(0,"h2"),e._uU(1,"\xbfEst\xe1 seguro de querer eliminar este usuario?"),e.qZA(),e.TgZ(2,"p"),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.currentCustomer.name)}}function Se(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeConfirmDelete())}),e.qZA(),e.TgZ(1,"button",89),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteUser())}),e.qZA()}}const Ne=function(){return[10,25,50]},Ee=function(){return["sequenceId","surname","email","name","country.name","currency.name"]},Oe=function(){return{width:"36vw"}},j=function(){return{width:"90%"}},K=function(){return{width:"45%"}};let De=(()=>{class n{constructor(t,s,i,o){this.router=t,this.customerService=s,this.utilService=i,this.messageService=o,this.countries=[],this.currencys=[],this.concact="",this.date=new Date,this.customers=[],this.selectedCustomers=[],this.idSelector="",this.sequenceID="",this.name="",this.surname="",this.birthday=this.date,this.email="",this.contactNumber=0,this.whatsapp=0,this.address="",this.country={flags:{png:"",svg:""},cca2:"",currencies:{"":{name:"",symbol:""}},idd:{root:P.The6,suffixes:[""]},translations:{"":{official:"",common:""}}},this.selectedCountry={name:"",code:"",flag:""},this.company="",this.currency={name:""},this.changeUserPassword="",this.confirmUserPassword="",this.displayMore=!1,this.displayModel=!1,this.displayOrden=!1,this.width=window.screen.width,this.displayModelConfirmDelete=!1,this.getCountries(),this.currencys=[{name:"BDT"},{name:"EUR"},{name:"XOF"},{name:"BGN"},{name:"BAM"},{name:"BBD"},{name:"XPF"},{name:"BMD"},{name:"BND"},{name:"BOB"},{name:"BHD"},{name:"BIF"},{name:"BTN"},{name:"JMD"},{name:"NOK"},{name:"BWP"},{name:"WST"},{name:"BRL"},{name:"BSD"},{name:"GBP"},{name:"BYR"},{name:"BZD"},{name:"RUB"},{name:"RWF"},{name:"RSD"},{name:"TMT"},{name:"TJS"},{name:"RON"},{name:"NZD"},{name:"GTQ"},{name:"XAF"},{name:"JPY"},{name:"GYD"},{name:"GEL"},{name:"XCD"},{name:"GNF"},{name:"GMD"},{name:"DKK"},{name:"GIP"},{name:"GHS"},{name:"OMR"},{name:"TND"},{name:"JOD"},{name:"HRK"},{name:"HTG"},{name:"HUF"},{name:"HKD"},{name:"HNL"},{name:"AUD"},{name:"VEF"},{name:"ILS"},{name:"PYG"},{name:"IQD"},{name:"PAB"},{name:"PGK"},{name:"PEN"},{name:"PKR"},{name:"PHP"},{name:"PLN"},{name:"ZMK"},{name:"MAD"},{name:"EGP"},{name:"ZAR"},{name:"VND"},{name:"SBD"},{name:"ETB"},{name:"SOS"},{name:"ZWL"},{name:"SAR"},{name:"ERN"},{name:"MDL"},{name:"MGA"},{name:"UZS"},{name:"MMK"},{name:"MOP"},{name:"MNT"},{name:"MKD"},{name:"MUR"},{name:"MWK"},{name:"MVR"},{name:"MRO"},{name:"UGX"},{name:"TZS"},{name:"MYR"},{name:"MXN"},{name:"SHP"},{name:"FJD"},{name:"FKP"},{name:"NIO"},{name:"NAD"},{name:"VUV"},{name:"NGN"},{name:"NPR"},{name:"CHF"},{name:"COP"},{name:"CNY"},{name:"CLP"},{name:"CAD"},{name:"CDF"},{name:"CZK"},{name:"CRC"},{name:"ANG"},{name:"CVE"},{name:"CUP"},{name:"SZL"},{name:"SYP"},{name:"KGS"},{name:"KES"},{name:"SSP"},{name:"SRD"},{name:"KHR"},{name:"KMF"},{name:"STD"},{name:"KRW"},{name:"KPW"},{name:"KWD"},{name:"SLL"},{name:"SCR"},{name:"KZT"},{name:"KYD"},{name:"SGD"},{name:"SEK"},{name:"SDG"},{name:"DOP"},{name:"DJF"},{name:"YER"},{name:"DZD"},{name:"UYU"},{name:"LBP"},{name:"LAK"},{name:"TWD"},{name:"TTD"},{name:"TRY"},{name:"LKR"},{name:"TOP"},{name:"LTL"},{name:"LRD"},{name:"LSL"},{name:"THB"},{name:"LYD"},{name:"AED"},{name:"AFN"},{name:"ISK"},{name:"IRR"},{name:"AMD"},{name:"ALL"},{name:"AOA"},{name:"USD"},{name:"ARS"},{name:"AWG"},{name:"INR"},{name:"AZN"},{name:"IDR"},{name:"UAH"},{name:"QAR"},{name:"MZN"}],this.client={currency:this.currency,_id:"",name:"",surname:"",birthday:this.date,email:"",address:"",company:"",contactNumber:0,whatsapp:0,__v:0,country:{name:"",code:"",flag:""},password:""}}ngOnInit(){this.getClient()}getClient(){this.customerService.getClients().subscribe(t=>{console.log(t.clientes[5],"clientes"),this.customers=t.clientes})}getCountries(){this.utilService.getCountries().subscribe(t=>{t.sort((s,i)=>s.translations.spa.common>i.translations.spa.common?1:-1),t.forEach(s=>{this.countries.push(s)})})}setCurrency(t){this.utilService.getCurrencies().then(s=>{this.currency={name:s[t.code]}}),this.selectedCountry={name:t.name,code:t.code,flag:t.flag}}setCurrencyDropBox(t){this.utilService.getCurrencies().then(s=>{this.currency={name:s[t.cca2]}}),this.selectedCountry={name:t.translations.spa.common,code:t.cca2,flag:t.flags.png}}paddy(t,s,i){var o=typeof i<"u"?i:"0",a=new Array(1+s).join(o);return(a+t).slice(-a.length)}showMore(t){this.client=t,this.displayMore=!0}openEditClient(t){this.selectedCustomers.push(t),this.idSelector=t._id,this.name=this.selectedCustomers[0].name,this.surname=this.selectedCustomers[0].surname,this.birthday=this.selectedCustomers[0].birthday,this.email=this.selectedCustomers[0].email,this.contactNumber=this.selectedCustomers[0].contactNumber,this.whatsapp=this.selectedCustomers[0].whatsapp,this.address=this.selectedCustomers[0].address,this.setCurrency(this.selectedCustomers[0].country),this.company=this.selectedCustomers[0].company,this.displayModel=!0}deleteUser(){this.customerService.deleteClient(this.currentCustomer).subscribe(t=>{this.selectedCustomers=[],this.getClient(),this.displayModel=!1,this.closeConfirmDelete(),this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Cliente eliminado"})})}confirmDelete(t){this.currentCustomer=t,this.displayModelConfirmDelete=!0}closeConfirmDelete(){this.displayModelConfirmDelete=!1}deleteData(){this.displayModel=!1,this.selectedCustomers=[]}verOrden(){this.displayOrden=!0}openOrder(t){this.customerService.setClientSelected(t),this.router.navigate(["/dashboard/orderlist"],{queryParams:{byClient:!0}})}updateClient(){const t={_id:this.idSelector,name:this.name,surname:this.surname,birthday:this.birthday,email:this.email,address:this.address,company:this.company,contactNumber:this.contactNumber,whatsapp:this.whatsapp,country:this.selectedCountry,currency:this.currency,password:"",__v:0};""!==this.confirmUserPassword||""!==this.changeUserPassword?(console.log("gato",this.confirmUserPassword,this.changeUserPassword),""!==this.confirmUserPassword&&""!==this.changeUserPassword?this.confirmUserPassword===this.changeUserPassword?this.changeUserPassword.length>=8?new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$").test(this.changeUserPassword)?(t.password=this.changeUserPassword,console.log(t,"clienteUpdate"),this.customerService.updateClient(t).subscribe(i=>{this.selectedCustomers=[],this.getClient(),this.displayModel=!1,this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Cliente Actualizado"})})):(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"La contrase\xf1a necesita al menos una mayuscula, una minuscula, un n\xfamero y un signo"})):(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"La contrase\xf1a es muy corta"})):(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Las contrase\xf1as no coinciden"})):(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Ambos campos de contrase\xf1a, deben estar ocupados"}))):(console.log("perro",this.confirmUserPassword,this.changeUserPassword),this.customerService.updateClient(t).subscribe(s=>{this.selectedCustomers=[],this.getClient(),this.displayModel=!1,this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Cliente Actualizado"})}))}applyFilterGlobal(t,s){this.dt?.filterGlobal(t.target.value,s)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.F0),e.Y36(O),e.Y36(G.f),e.Y36(Z.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients-table"]],viewQuery:function(t,s){if(1&t&&e.Gf(Ae,5),2&t){let i;e.iGM(i=e.CRH())&&(s.dt=i.first)}},decls:58,vars:36,consts:[["responsiveLayout","scroll","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Mas Detalles",3,"visible","modal","draggable","resizable","visibleChange"],[1,"grid"],[1,"col-12"],[1,"surface-card","p-4","shadow-2","border-round"],[1,"list-none","p-0","m-0"],[1,"flex","align-items-center","py-3","px-2","border-top-1","surface-border","flex-wrap"],[1,"text-500","w-12","md:w-8","md:flex-order-0","flex-order-1","font-medium"],[1,"pi","pi-mobile","mr-2"],[1,"text-500","w-2","md:w-2","md:flex-order-0","flex-order-1"],[1,"text-900","w-6","font-medium","md:w-2","flex","justify-content-start"],[1,"flex","align-items-center","py-3","px-2","flex-wrap"],[1,"pi","pi-calendar","mr-2"],[1,"pi","pi-map-marker","mr-2"],[1,"pi","pi-building","mr-2"],[1,"pi","pi-whatsapp","mr-2"],["header","Editar Cliente","styleClass","p-fluid",3,"visible","modal","onHide","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Eliminar usuario","styleClass","p-fluid",3,"visible","modal","onHide","visibleChange"],[1,"table-header"],[1,"p-input-icon-left","max-w-full"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar",1,"max-w-full",3,"input"],["pSortableColumn","sequenceID"],[1,"flex","justify-content-between","align-items-center"],["field","sequenceID"],["pSortableColumn","name"],["field","name"],["pSortableColumn","surname"],["field","apellido"],["pSortableColumn","email"],[1,"pi","pi-envelope","mr-2"],["field","email"],["pSortableColumn","currency"],[1,"pi","pi-dollar","mr-2"],["field","moneda"],["pSortableColumn","country"],[1,"pi","pi-flag","mr-2"],["field","country"],[1,"p-selectable-row"],["width","30",1,"ml-2","mr-2",3,"src"],[1,"image-text"],[2,"text-align","center"],["pButton","","pRipple","","icon","pi pi-search-plus",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-book",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-times-circle",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[1,"grid","formgrid","p-fluid"],[1,"field","mb-4","col-12","md:col-6"],["for","name",1,"font-medium","text-900"],["id","name","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","surname",1,"font-medium","text-900"],["id","surname","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","birthday",1,"font-medium","text-900"],["dateFormat","dd/mm/yy","placeholder","dd/mm/yy",3,"ngModel","ngModelChange"],[1,"field","mb-4","col-6"],["type","text","disabled","",1,"p-inputtext","p-component","p-element",3,"value"],["for","email",1,"font-medium","text-900"],[1,"p-input-icon-left"],[1,"pi","pi-envelope"],["id","email","type","email",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","address",1,"font-medium","text-900"],[1,"pi","pi-map-marker"],["id","address","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","contactNumber",1,"font-medium","text-900"],[1,"pi","pi-mobile"],["id","contactNumber","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","whatsapp",1,"font-medium","text-900"],[1,"pi","pi-whatsapp"],["id","whatsapp","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","country",1,"font-medium","text-900"],["optionLabel","translations.spa.common",3,"options","ngModel","ngModelChange","onChange"],["for","company",1,"font-medium","text-900"],[1,"pi","pi-building"],["id","company","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","currency",1,"font-medium","text-900"],["optionLabel","name",3,"options","ngModel","disabled","ngModelChange"],["for","password",1,"font-medium","text-900"],["id","password","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","passwordConfirm",1,"font-medium","text-900"],["id","passwordConfirm","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],[1,"surface-border","border-top-1","opacity-50","mb-4","col-12"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-success","p-button-text",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-check",1,"p-button-success","p-button-text",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"p-table",0,1),e.YNc(2,xe,4,0,"ng-template",2),e.YNc(3,ye,46,0,"ng-template",3),e.YNc(4,Me,23,7,"ng-template",4),e.qZA(),e.TgZ(5,"p-dialog",5),e.NdJ("visibleChange",function(o){return s.displayMore=o}),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"div",11)(12,"span"),e._UZ(13,"i",12),e._uU(14," Celular "),e.qZA()(),e._UZ(15,"div",13),e.TgZ(16,"div",14),e._uU(17),e.qZA()(),e.TgZ(18,"li",15)(19,"div",11)(20,"span"),e._UZ(21,"i",16),e._uU(22," Fecha de Nacimiento "),e.qZA()(),e._UZ(23,"div",13),e.TgZ(24,"div",14),e._uU(25),e.ALo(26,"date"),e.qZA()(),e.TgZ(27,"li",15)(28,"div",11)(29,"span"),e._UZ(30,"i",17),e._uU(31," Direcci\xf3n "),e.qZA()(),e._UZ(32,"div",13),e.TgZ(33,"div",14),e._uU(34),e.qZA()(),e.TgZ(35,"li",15)(36,"div",11)(37,"span"),e._UZ(38,"i",18),e._uU(39," Compa\xf1ia "),e.qZA()(),e._UZ(40,"div",13),e.TgZ(41,"div",14),e._uU(42),e.qZA()(),e.TgZ(43,"li",15)(44,"div",11)(45,"span"),e._UZ(46,"i",19),e._uU(47," Whatsapp "),e.qZA()(),e._UZ(48,"div",13),e.TgZ(49,"div",14),e._uU(50),e.qZA()()()()()()(),e.TgZ(51,"p-dialog",20),e.NdJ("onHide",function(){return s.deleteData()})("visibleChange",function(o){return s.displayModel=o}),e.YNc(52,qe,75,20,"ng-template",21),e.YNc(53,Ue,2,0,"ng-template",22),e.qZA(),e.TgZ(54,"p-dialog",23),e.NdJ("onHide",function(){return s.deleteData()})("visibleChange",function(o){return s.displayModelConfirmDelete=o}),e.YNc(55,ke,4,1,"ng-template",21),e.YNc(56,Se,2,0,"ng-template",22),e.qZA(),e._UZ(57,"p-toast")),2&t&&(e.Q6J("value",s.customers)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(28,Ne))("paginator",!0)("globalFilterFields",e.DdM(29,Ee)),e.xp6(5),e.Akn(s.width>960?e.DdM(30,Oe):e.DdM(31,j)),e.Q6J("visible",s.displayMore)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(12),e.hij(" ",s.client.contactNumber," "),e.xp6(8),e.hij(" ",e.xi3(26,25,s.client.birthday,"dd/MM/yyyy")," "),e.xp6(9),e.hij(" ",s.client.address," "),e.xp6(8),e.hij(" ",s.client.company," "),e.xp6(8),e.hij(" ",s.client.whatsapp," "),e.xp6(1),e.Akn(s.width>960?e.DdM(32,K):e.DdM(33,j)),e.Q6J("visible",s.displayModel)("modal",!0),e.xp6(3),e.Akn(s.width>960?e.DdM(34,K):e.DdM(35,j)),e.Q6J("visible",s.displayModelConfirmDelete)("modal",!0))},dependencies:[M.Hq,D.f,Z.jx,B.V,J.Lt,F.o,A.iA,A.lQ,A.fz,k.FN,w.Fj,w.JJ,w.On,v.uU],styles:[".flag-dz[_ngcontent-%COMP%]{background-position:0 24.380165%}.flag[_ngcontent-%COMP%]{background-size:100%;vertical-align:middle}"]}),n})();function Je(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Administrador"),e.qZA()())}function Be(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Cliente"),e.qZA()())}let Pe=(()=>{class n{constructor(t){this.authService=t,this.role=this.authService.getRole()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-client-list"]],decls:15,vars:2,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],["class","px-2",4,"ngIf"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"md:p-5","p-4","min-w-320"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.YNc(6,Je,3,0,"li",6),e.YNc(7,Be,3,0,"li",6),e.TgZ(8,"li",4),e._UZ(9,"i",5),e.qZA(),e.TgZ(10,"li",4)(11,"a",7),e._uU(12," Lista de Clientes "),e.qZA()()(),e.TgZ(13,"div",8),e._UZ(14,"app-clients-table"),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Q6J("ngIf",2==s.role))},dependencies:[v.O5,De]}),n})(),I=(()=>{class n{constructor(t,s){this.http=t,this.authService=s,this.baseUrl=q_baseUrl}get usuario(){return this.authService.usuario}createRequest(t){const s=`${this.baseUrl}/request/new`;return t.clientId=this.usuario._id,t.clientName=`${this.usuario.name} ${this.usuario.surname}`,this.http.post(s,{request:t}).pipe((0,S.b)(o=>{const{ok:a,uid:l}=o;console.log(o,"Data antes de crear el movimiento"),this.crearMovimiento(t.requestType,t.requestedValue,l).subscribe(()=>a)}),(0,f.U)(o=>o.ok),(0,N.K)(o=>(0,E.of)(o.error.msg)))}getRequest(){return this.http.get(`${this.baseUrl}/request/all`).pipe((0,f.U)(s=>s))}crearMovimiento(t,s,i,o=new Date,a=this.usuario._id){const l=`${this.baseUrl}/movimientos/new`,m={clientId:a,clientName:`${this.usuario.name} ${this.usuario.surname}`,requestId:i,type:t,requestDate:o,status:"Creado",value:s.toString()};return this.http.post(l,m).pipe((0,S.b)(({})=>{}),(0,f.U)(c=>c.ok),(0,N.K)(c=>(0,E.of)(c.error.msg)))}updateStatus(t,s){return this.http.post(`${this.baseUrl}/request/update/status`,{_id:t._id,status:s}).pipe((0,f.U)(a=>a))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN),e.LFG(y.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fe=d(5047),Ie=d(1383);function Ge(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"p-radioButton",44),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedOption=i)}),e.qZA(),e.TgZ(2,"label",45),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,s=e.oxw();e.xp6(1),e.Q6J("inputId",t.key)("value",t)("ngModel",s.selectedOption)("disabled","R"===t.key),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Oqu(t.name)}}function je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"label",47),e._uU(2,"Seleccionar Mes"),e.qZA(),e.TgZ(3,"p-calendar",48),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.date2=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMonth())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.date2)("readonlyInput",!0)}}function Re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",49),e._uU(2,"Seleccionar Trimestre"),e.qZA(),e.TgZ(3,"p-dropdown",50),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedTrimestre=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectTrimestre())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.trimestres)("ngModel",t.selectedTrimestre)("showClear",!0)}}function Le(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"p-radioButton",52),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.semestreOption=i)})("ngModelChange",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.selectSemestre(o.id))}),e.qZA(),e.TgZ(2,"label",45),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("inputId",t.id)("value",t)("ngModel",s.semestreOption),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Oqu(t.name)}}function Qe(n,r){if(1&n&&(e.TgZ(0,"div",5)(1,"label",51),e._uU(2,"Seleccionar Semestre"),e.qZA(),e.YNc(3,Le,4,5,"div",8),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.semestres)}}function Ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"p-toolbar")(2,"div",54)(3,"label",55)(4,"strong"),e._uU(5,"Cliente:"),e.qZA(),e._uU(6),e.qZA()(),e.TgZ(7,"div",56)(8,"p-button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openNuevaOrden())}),e.qZA(),e._UZ(9,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.nameClient," ")}}function ze(n,r){1&n&&(e.TgZ(0,"th")(1,"div",60)(2,"span"),e._UZ(3,"i",71),e._uU(4," Editar "),e.qZA()()())}function Ke(n,r){1&n&&(e.TgZ(0,"th")(1,"div",60)(2,"span"),e._UZ(3,"i",72),e._uU(4," Eliminar "),e.qZA()()())}function He(n,r){1&n&&(e.TgZ(0,"th")(1,"div",60)(2,"span"),e._UZ(3,"i",69),e._uU(4," Actualizar estado "),e.qZA()()())}function Ve(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",59)(2,"div",60)(3,"span"),e._uU(4,"Operacion"),e.qZA(),e._UZ(5,"p-sortIcon",61),e.qZA()(),e.TgZ(6,"th",62)(7,"div",60)(8,"span"),e._uU(9,"Fecha"),e.qZA(),e._UZ(10,"p-sortIcon",63),e.qZA()(),e.TgZ(11,"th",64)(12,"div",60)(13,"span"),e._UZ(14,"i",65),e._uU(15," Estado "),e.qZA(),e._UZ(16,"p-sortIcon",66),e.qZA()(),e.TgZ(17,"th",67)(18,"div",60)(19,"span"),e._UZ(20,"i",32),e._uU(21," Capital "),e.qZA(),e._UZ(22,"p-sortIcon",68),e.qZA()(),e.TgZ(23,"th",67)(24,"div",60)(25,"span"),e._UZ(26,"i",32),e._uU(27," Ganancia "),e.qZA(),e._UZ(28,"p-sortIcon",68),e.qZA()(),e.TgZ(29,"th",67)(30,"div",60)(31,"span"),e._UZ(32,"i",32),e._uU(33," Perdida "),e.qZA(),e._UZ(34,"p-sortIcon",68),e.qZA()(),e.TgZ(35,"th",67)(36,"div",60)(37,"span"),e._UZ(38,"i",32),e._uU(39," Retiros "),e.qZA(),e._UZ(40,"p-sortIcon",68),e.qZA()(),e.TgZ(41,"th")(42,"div",60)(43,"span"),e._UZ(44,"i",69),e._uU(45," Ver M\xe1s "),e.qZA()()(),e.YNc(46,ze,5,0,"th",70),e.YNc(47,Ke,5,0,"th",70),e.YNc(48,He,5,0,"th",70),e.qZA()),2&n){const t=e.oxw();e.xp6(46),e.Q6J("ngIf",t.byClient),e.xp6(1),e.Q6J("ngIf",t.byClient),e.xp6(1),e.Q6J("ngIf",t.byClient)}}function $e(n,r){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" $",t.total<0?t.total:"0.00"," ")}}function We(n,r){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.valorFinal," ")}}function Xe(n,r){1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" $","0.00"," "))}function et(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",74)(1,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.showEdit(i.orders))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("disabled","Finalizado"===t.colorStatus||"Cancelado"===t.colorStatus)}}function tt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",74)(1,"button",78),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.deleteSelected(i.orders))}),e.qZA()()}}function st(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,o=e.oxw();return e.KtG(o.actualizarFinalizadoCapital(i.orders,i.total))}),e.qZA()}}function it(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,o=e.oxw();return e.KtG(o.openDialogFinalizado(i.orders,i.total))}),e.qZA()}}function nt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td"),e.YNc(1,st,1,0,"button",79),e.YNc(2,it,1,0,"button",79),e.TgZ(3,"button",80),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.actualizar(i.orders,"Cancelado"))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.orders.isCapital||t.orders.isWithdrawl),e.xp6(1),e.Q6J("ngIf",!t.orders.isCapital&&!t.orders.isWithdrawl)}}function ot(n,r){1&n&&(e.TgZ(0,"td",74),e._uU(1," N/A "),e.qZA())}function rt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr",73)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td")(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"td",74),e._uU(10),e.qZA(),e.TgZ(11,"td",74),e._uU(12),e.qZA(),e.TgZ(13,"td",74),e._uU(14),e.qZA(),e.YNc(15,$e,2,1,"td",75),e.YNc(16,We,2,1,"td",75),e.YNc(17,Xe,2,1,"td",75),e.TgZ(18,"td",74)(19,"button",76),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.showMore(o.orders))}),e.qZA()(),e.YNc(20,et,2,1,"td",75),e.YNc(21,tt,2,0,"td",75),e.YNc(22,nt,4,2,"td",70),e.YNc(23,ot,2,0,"td",75),e.qZA()}if(2&n){const t=r.$implicit,s=e.oxw();e.xp6(2),e.hij("#",t.orders.operationNumber,""),e.xp6(2),e.hij(" ",e.Dn7(5,15,t.orders.operationDate,"dd/MM/yyyy","+0000")," "),e.xp6(3),e.Tol("customer-badge status-"+t.colorStatus),e.xp6(1),e.hij(" ",t.orders.operationStatus," "),e.xp6(2),e.hij(" $",t.total>0?t.total:"0",".00 "),e.xp6(2),e.hij(" ","-"===t.valorFinal[1]||t.isWithdrawl&&!t.isCapital?"$0.00":t.valorFinal," "),e.xp6(2),e.hij(" ","-"!==t.valorFinal[1]||t.isWithdrawl&&!t.isCapital?"$0.00":t.valorFinal," "),e.xp6(1),e.Q6J("ngIf",t.isCapital&&t.isWithdrawl),e.xp6(1),e.Q6J("ngIf",!t.isCapital&&t.isWithdrawl),e.xp6(1),e.Q6J("ngIf",!t.isWithdrawl&&!t.isCapital||!t.isWithdrawl&&t.isCapital),e.xp6(3),e.Q6J("ngIf",s.byClient),e.xp6(1),e.Q6J("ngIf",s.byClient),e.xp6(1),e.Q6J("ngIf","Cancelado"!==t.orders.operationStatus&&"Finalizado"!==t.orders.operationStatus&&s.byClient),e.xp6(1),e.Q6J("ngIf",("Cancelado"===t.orders.operationStatus||"Finalizado"===t.orders.operationStatus)&&s.byClient)}}function at(n,r){1&n&&(e.TgZ(0,"tr",82)(1,"td",83),e._uU(2,"Este usuario no tiene ordenes"),e.qZA()())}function lt(n,r){if(1&n&&(e.TgZ(0,"li",30)(1,"div",31)(2,"span"),e._UZ(3,"i",84),e._uU(4),e.qZA()(),e.TgZ(5,"div",33),e._uU(6),e.qZA()()),2&n){const t=r.$implicit;e.xp6(4),e.AsE(" ",t.name," x",t.quantity," "),e.xp6(2),e.hij(" $",t.benefit,".00 ")}}function mt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",95),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.removeAction(i.name))}),e._UZ(1,"i",72),e._uU(2," Quitar "),e.qZA()}}function ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",85)(1,"div",86)(2,"span",87)(3,"div",88),e._UZ(4,"i",84),e.TgZ(5,"p",89),e._uU(6),e.qZA()(),e.TgZ(7,"div",90)(8,"label",91),e._uU(9," Cantidad "),e.qZA(),e.TgZ(10,"input",92),e.NdJ("keyup",function(i){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeValor(a.name,i,!0))})("change",function(i){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeValor(a.name,i,!0))}),e.qZA()(),e.TgZ(11,"div",93)(12,"label",91),e._uU(13," Valor "),e.qZA(),e.TgZ(14,"input",92),e.NdJ("keyup",function(i){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeValor(a.name,i,!1))})("change",function(i){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeValor(a.name,i,!1))}),e.qZA()(),e.YNc(15,mt,3,0,"button",94),e.qZA()()()}if(2&n){const t=r.$implicit,s=e.oxw();e.xp6(6),e.hij("Nombre: ",t.name,""),e.xp6(2),e.Q6J("for",t.name),e.xp6(2),e.Q6J("name",t.name)("value",t.quantity),e.xp6(2),e.Q6J("for",t.name+"valor"),e.xp6(2),e.Q6J("name",t.name+"valor")("value",t.benefit),e.xp6(1),e.Q6J("ngIf",s.newActions.length>1)}}function dt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ul",113)(1,"li")(2,"span",114),e._uU(3),e.qZA(),e.TgZ(4,"span",115),e._uU(5),e.qZA(),e.TgZ(6,"i",116),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.removeAccionista(o.name))}),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.hij("",t.name,":"),e.xp6(2),e.AsE(" $",t.benefit,".00, x",t.quantity," ")}}function ht(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",117),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.addAccionista())}),e.qZA()}}function pt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",118),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.addToCapital())}),e.qZA()}}function ut(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",119),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capitalWithdrawl())}),e.qZA()}}function gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",120),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.profitWithdrawl())}),e.qZA()}}function _t(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",96)(1,"div",97),e.YNc(2,dt,7,3,"ul",98),e.qZA(),e.TgZ(3,"div",99)(4,"label",100),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"span",101),e._UZ(7,"i",102),e.TgZ(8,"input",103),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.accionistaName=i)}),e.qZA()()(),e.TgZ(9,"div",104)(10,"label",100),e._uU(11,"Cantidad"),e.qZA(),e.TgZ(12,"span")(13,"p-inputNumber",105),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.accionistaQuantity=i)}),e.qZA()()(),e.TgZ(14,"div",104)(15,"label",100),e._uU(16,"Precio"),e.qZA(),e.TgZ(17,"span")(18,"p-inputNumber",106),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.accionistaBenefit=i)}),e.qZA()()(),e.TgZ(19,"div",107)(20,"div",108),e.YNc(21,ht,1,0,"p-button",109),e.qZA(),e.TgZ(22,"div",108),e.YNc(23,pt,1,0,"p-button",110),e.qZA(),e.TgZ(24,"div",108),e.YNc(25,ut,1,0,"p-button",111),e.qZA(),e.TgZ(26,"div",108),e.YNc(27,gt,1,0,"p-button",112),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.accionistas),e.xp6(6),e.Q6J("ngModel",t.accionistaName),e.xp6(5),e.Q6J("ngModel",t.accionistaQuantity)("useGrouping",!1),e.xp6(5),e.Q6J("ngModel",t.accionistaBenefit)("useGrouping",!1),e.xp6(3),e.Q6J("ngIf",!t.showAddtoCapital),e.xp6(2),e.Q6J("ngIf",!t.orderfromCapital),e.xp6(2),e.Q6J("ngIf",!t.orderfromCapitalWithdrawl),e.xp6(2),e.Q6J("ngIf",!t.orderfromProfitWithdrawl)}}function bt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",121),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.displayModel=!1)}),e.qZA(),e.TgZ(1,"button",122),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.crearOrden())}),e.qZA()}}function Ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",96)(1,"div",123)(2,"label",124),e._uU(3,"Ganancia"),e.qZA(),e.TgZ(4,"span")(5,"p-inputNumber",125),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.totalFinalizadoGanancia=i)}),e.qZA()()(),e.TgZ(6,"div",123)(7,"label",126),e._uU(8,"Perdida"),e.qZA(),e.TgZ(9,"span")(10,"p-inputNumber",127),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.totalFinalizadoPerdida=i)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.totalFinalizadoGanancia)("useGrouping",!1),e.xp6(5),e.Q6J("ngModel",t.totalFinalizadoPerdida)("useGrouping",!1)}}function vt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",121),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.displayFinalizado=!1)}),e.qZA(),e.TgZ(1,"button",122),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.actualizarFinalizado("Finalizado"))}),e.qZA()}}const H=function(){return{width:"60vw"}},V=function(){return{width:"90%"}},ft=function(){return{width:"60%"}},wt=function(){return{width:"90%","min-width":"300px"}},Zt=function(){return{width:"45%"}};let Tt=(()=>{class n{constructor(t,s,i,o,a){this.ordersServices=t,this.router=s,this.messageService=i,this.datePipe=o,this.requestServices=a,this.ordersList=[],this.orders=[],this.total=0,this.byClient=!1,this.nameClient="",this.numOrdenNueva=0,this.date=new Date,this.editDate=new Date,this.displayModel=!1,this.displayMore=!1,this.displayEdit=!1,this.colorStatus="",this.displayFinalizado=!1,this.width=window.screen.width,this.accionistas=[],this.accionistaName="",this.accionistaQuantity=0,this.accionistaBenefit=0,this.totalFinalizadoGanancia=0,this.totalFinalizadoPerdida=0,this.newActions={},this.date2=new Date,this.date1=new Date,this.selectedOption={name:"",key:""},this.options=[{name:"Mes",key:"M"},{name:"Trimestre",key:"T"},{name:"Semestre",key:"S"}],this.semestreOption=null,this.semestres=[{id:"1",name:"1\xb0 Semestre"},{id:"2",name:"2\xb0 Semestre"}],this.trimestres=[],this.selectedTrimestre={id:"",name:""},this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[]},{label:"Perdidas",backgroundColor:"#EC407A",data:[]}]},this.months={ene:{winnings:0,losses:0,inversion:0},feb:{winnings:0,losses:0,inversion:0},mar:{winnings:0,losses:0,inversion:0},abr:{winnings:0,losses:0,inversion:0},may:{winnings:0,losses:0,inversion:0},jun:{winnings:0,losses:0,inversion:0},jul:{winnings:0,losses:0,inversion:0},ago:{winnings:0,losses:0,inversion:0},sep:{winnings:0,losses:0,inversion:0},oct:{winnings:0,losses:0,inversion:0},nov:{winnings:0,losses:0,inversion:0},dic:{winnings:0,losses:0,inversion:0}},this.trimestre={trimestre1:{winnings:0,losses:0,inversion:0},trimestre2:{winnings:0,losses:0,inversion:0},trimestre3:{winnings:0,losses:0,inversion:0},trimestre4:{winnings:0,losses:0,inversion:0}},this.semestre={semestre1:{winnings:0,losses:0,inversion:0},semestre2:{winnings:0,losses:0,inversion:0}},this.selectedTotal=0,this.orderfromCapital=!1,this.orderfromCapitalWithdrawl=!1,this.orderfromProfitWithdrawl=!1,this.withdrawl=!1,this.showAddtoCapital=!1,this.console=m=>(console.log(m,">>>>>>>>>"),m);const l=new Date;this.orderSelected={clientId:"",operationActions:[],operationDate:l,operationNumber:0,operationStatus:"",operationValue:0,isCapital:this.orderfromCapital},this.trimestres=[{id:"1",name:"1\xb0 Trimestre"},{id:"2",name:"2\xb0 Trimestre"},{id:"3",name:"3\xb0 Trimestre"},{id:"4",name:"4\xb0 Trimestre"}],this.router.queryParams.subscribe(m=>{this.byClient=m.byClient}),this.byClient?this.getByClient():this.getByClientNoAdmin()}changeValor(t,s,i){this.newActions.forEach((o,a)=>{o.name===t&&(i?this.newActions[a].quantity=s.originalTarget.valueAsNumber:this.newActions[a].benefit=s.originalTarget.valueAsNumber)})}removeAction(t){this.newActions.forEach((s,i)=>{s.name===t&&this.newActions.splice(i,1)}),console.log(this.newActions)}getByClient(){this.ordersList=[],this.ordersServices.getOrdersByClient().subscribe(s=>{console.log(s,"ordenes"),this.orders=s.ordenes,this.orders.forEach(i=>{let o=0;i.operationActions.forEach(m=>{(i.isCapital||"En progreso"===i.operationStatus)&&(o+=m.benefit*m.quantity)});let a="$0.00";i.operationValue<0?a=`$-${Math.abs(i.operationValue)}.00`:i.operationValue>0&&(a=`$${i.operationValue}.00`);const l={total:o,orders:i,colorStatus:this.setColorStatus(i.operationStatus),valorFinal:a,isCapital:i.isCapital,isWithdrawl:i.isWithdrawl};this.ordersList.push(l)}),this.getDataOnCharts()});const t=this.ordersServices.getUserName();this.nameClient=`${t.name} ${t.surname}`}getByClientNoAdmin(){this.ordersList=[],this.ordersServices.getOrdersByClientNoAdmin().subscribe(s=>{console.log(s,"getByClientNoAdmin"),this.orders=s.ordenes,this.orders.forEach(i=>{let o=0;i.operationActions.forEach(m=>{i.isCapital&&(o+=m.benefit*m.quantity)});let a="$0.00";i.operationValue<0?a=`$-${Math.abs(i.operationValue)}.00`:i.operationValue>0&&(a=`$${i.operationValue}.00`);const l={total:o,orders:i,colorStatus:this.setColorStatus(i.operationStatus),valorFinal:a,isCapital:i.isCapital,isWithdrawl:i.isWithdrawl};this.ordersList.push(l)}),this.getDataOnCharts()});const t=this.ordersServices.getUserName();this.nameClient=`${t.name} ${t.surname}`}showEdit(t){this.editDate=this.getFormatedDate(t.operationDate),this.orderSelected=t,this.newActions=this.orderSelected.operationActions,this.orderSelected.operationActions.forEach(s=>{this.total=this.total+s.benefit*s.quantity}),this.setColorStatusShowMore(t.operationStatus),this.displayEdit=!0}getFormatedDate(t){let s=new Date(t),i=s.getUTCDate(),o=s.getUTCMonth()+1;return o<10&&(o="0"+o),i<10&&(i="0"+i),s.getUTCFullYear()+"-"+o+"-"+i}deleteSelected(t){this.orderSelected=t,this.ordersServices.deleteOrder(this.orderSelected).subscribe(s=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Orden eliminada"}),this.getByClient()})}closeEdit(){this.total=0,this.displayEdit=!1}showMore(t){this.orderSelected=t,this.orderSelected.operationActions.forEach(s=>{this.total=this.total+s.benefit*s.quantity}),this.setColorStatusShowMore(t.operationStatus),this.displayMore=!0}closeMore(){this.total=0}setColorStatus(t){return"Finalizado"===t||"Cancelado"===t?t:"new"}setColorStatusShowMore(t){this.colorStatus="Finalizado"===t||"Cancelado"===t?t:"new"}openNuevaOrden(){this.numOrdenNueva=this.ordersList.length+1001,this.displayModel=!0}disableButtons(t){0===t?(this.orderfromCapital=!1,this.orderfromCapitalWithdrawl=!0,this.orderfromProfitWithdrawl=!0,this.showAddtoCapital=!0,this.withdrawl=!1):1===t?(this.orderfromCapital=!0,this.orderfromCapitalWithdrawl=!1,this.orderfromProfitWithdrawl=!0,this.showAddtoCapital=!0):2===t?(this.orderfromCapital=!0,this.orderfromCapitalWithdrawl=!0,this.orderfromProfitWithdrawl=!1,this.showAddtoCapital=!0):3===t&&(this.orderfromCapital=!0,this.orderfromCapitalWithdrawl=!0,this.orderfromProfitWithdrawl=!0,this.showAddtoCapital=!1,this.withdrawl=!1)}addAccionista(){return null!==this.accionistaName&&""!==this.accionistaName&&this.accionistaBenefit>0&&this.accionistaQuantity>0?(this.disableButtons(3),this.accionistas.push({name:this.accionistaName,benefit:this.accionistaBenefit,quantity:this.accionistaQuantity}),this.limpiarAccionista(),this.messageService.add({severity:"success",summary:"Ok",detail:"Accionista agregado"}),!0):(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Debe llenar todos los campos."}),!1)}addToCapital(){if(null!==this.accionistaName&&""!==this.accionistaName&&this.accionistaBenefit>0&&this.accionistaQuantity>0){const t={name:this.accionistaName,benefit:this.accionistaBenefit,quantity:this.accionistaQuantity};return this.disableButtons(0),this.accionistas.push(t),this.limpiarAccionista(),this.messageService.add({severity:"success",summary:"Ok",detail:"Accionista agregado"}),!0}return this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Debe llenar todos los campos."}),!1}capitalWithdrawl(){if(null!==this.accionistaName&&""!==this.accionistaName&&this.accionistaBenefit>0&&this.accionistaQuantity>0){const t={name:this.accionistaName,benefit:this.accionistaBenefit,quantity:this.accionistaQuantity};return this.withdrawl=!0,this.disableButtons(1),this.accionistas.push(t),this.limpiarAccionista(),this.messageService.add({severity:"success",summary:"Ok",detail:"Accionista agregado"}),!0}return this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Debe llenar todos los campos."}),!1}profitWithdrawl(){if(null!==this.accionistaName&&""!==this.accionistaName&&this.accionistaBenefit>0&&this.accionistaQuantity>0){const t={name:this.accionistaName,benefit:this.accionistaBenefit,quantity:this.accionistaQuantity};return this.withdrawl=!0,this.disableButtons(2),this.accionistas.push(t),this.limpiarAccionista(),this.messageService.add({severity:"success",summary:"Ok",detail:"Accionista agregado"}),!0}return this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Debe llenar todos los campos."}),!1}limpiarAccionista(){this.accionistaName="",this.accionistaBenefit=0,this.accionistaQuantity=0}limpiarCampos(){this.accionistas=[],this.accionistaName="",this.accionistaQuantity=0,this.accionistaBenefit=0}removeAccionista(t){const s=this.accionistas.findIndex(i=>i.name===t);this.accionistas.splice(s,1),0===this.accionistas.length&&(this.orderfromCapital=!1,this.showAddtoCapital=!1,this.orderfromCapitalWithdrawl=!1,this.orderfromProfitWithdrawl=!1,this.withdrawl=!1)}crearOrden(){let t=!0;(null!==this.accionistaName&&""!==this.accionistaName||this.accionistaBenefit>0||this.accionistaQuantity>0)&&(t=this.addAccionista()),t&&this.sendOrder()}sendOrder(){if(console.log(this.orderfromCapital,this.orderfromCapitalWithdrawl,"this.orderfromCapital || this.orderfromCapitalWithdrawl,"),0===this.accionistas.length)this.messageService.add({severity:"error",summary:"Error",detail:"Tiene que a\xf1adir al menos una accionista"});else{const t=new Date;this.ordersServices.registro({clientId:"",operationActions:this.accionistas,operationStatus:"En progreso",operationNumber:this.numOrdenNueva,operationDate:t,operationValue:0,isCapital:!this.orderfromCapital||!this.orderfromCapitalWithdrawl,isWithdrawl:this.withdrawl}).subscribe(i=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Orden creada"}),this.orderfromCapital=!1,this.showAddtoCapital=!1,this.orderfromCapitalWithdrawl=!1,this.orderfromProfitWithdrawl=!1,this.withdrawl=!1,this.getByClient(),this.limpiarCampos(),this.displayModel=!1})}}editOrder(){this.getFormatedDate(this.orderSelected.operationDate)===this.editDate?(console.log("perro"),this.ordersServices.updateOperationValue(this.orderSelected,this.newActions).subscribe(t=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Estado actualizado"}),this.getByClient(),this.displayEdit=!1})):(console.log("perro no equal"),this.ordersServices.updateOperationValue(this.orderSelected,this.newActions,this.editDate).subscribe(t=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Estado actualizado"}),this.getByClient(),this.displayEdit=!1}))}actualizar(t,s){this.ordersServices.updateStatus(t,s).subscribe(i=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Estado actualizado"}),this.getByClient()})}openDialogFinalizado(t,s){console.log(t),this.orderSelected=t,this.selectedTotal=s,this.displayFinalizado=!0}actualizarFinalizadoCapital(t,s){console.log(t,"actualizarFinalizadoCapital"),this.orderSelected=t,this.selectedTotal=s,this.actualizarFinalizado("Finalizado")}actualizarFinalizado(t){if(console.log(this.getCurrentBalance(),this.totalFinalizadoPerdida,this.totalFinalizadoPerdida>=this.getCurrentBalance()),this.totalFinalizadoGanancia>0&&this.totalFinalizadoPerdida>0)this.totalFinalizadoGanancia=0,this.totalFinalizadoPerdida=0,this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"S\xf3lo se puede llenar uno de los 2 campos"});else if(this.totalFinalizadoPerdida>this.getCurrentBalance())this.totalFinalizadoPerdida=0,this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"El valor de p\xe9rdida, no puede superar el valor invertido"});else{let s=0;s=this.totalFinalizadoGanancia>0?this.totalFinalizadoGanancia:-1*this.totalFinalizadoPerdida,this.orderSelected.isWithdrawl&&this.orderSelected.isCapital?this.orderSelected.operationActions.forEach((i,o)=>{this.orderSelected.operationActions[o].benefit=-1*i.benefit}):this.orderSelected.isWithdrawl&&!this.orderSelected.isCapital&&(this.orderSelected.operationActions.forEach((i,o)=>{s+=i.benefit*i.quantity}),s*=-1,this.orderSelected.operationActions.forEach((i,o)=>{this.orderSelected.operationActions[o].benefit=-1*i.benefit})),this.ordersServices.updateStatusFinalizado(this.orderSelected,t,s).subscribe(i=>{this.messageService.clear(),!0===this.orderSelected.isWithdrawl?(console.log(200===i.status,i,"<------------------------"),this.createMovement(i,"Retiro",s,this.orderSelected.operationDate)):(!0===this.orderSelected.isCapital&&this.createMovement(i,"Deposito",s,this.orderSelected.operationDate),this.messageService.add({severity:"success",summary:"Ok",detail:"Estado actualizado"})),this.getByClient(),this.displayFinalizado=!1,this.totalFinalizadoGanancia=0,this.totalFinalizadoPerdida=0})}}createMovement(t,s,i,o){200===t.status||201===t.status?(!0===this.orderSelected.isCapital&&this.orderSelected.operationActions.forEach((a,l)=>{i+=a.benefit*a.quantity}),(!0===this.orderSelected.isWithdrawl||!0===this.orderSelected.isCapital)&&(!0===this.orderSelected.isWithdrawl&&(i*=-1),this.requestServices.crearMovimiento(s,i,this.orderSelected._id,o,this.orderSelected.clientId).subscribe(a=>{console.log(a,"resCrearMovimiento"),this.messageService.add(a?{severity:"success",summary:"Ok",detail:"Estado actualizado"}:{severity:"error",summary:"Error",detail:"Error al actualizar datos"})}))):this.messageService.add({severity:"error",summary:"Error",detail:"Error al actualizar datos"})}getCurrentBalance(){let t=0;return this.orders.forEach(s=>{s.operationActions.forEach(i=>{s.isCapital&&(t+=i.benefit*i.quantity)}),t+=s.operationValue}),t}getDataOnCharts(){this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[]},{label:"Perdidas",backgroundColor:"#EC407A",data:[]}]},this.months={ene:{winnings:0,losses:0,inversion:0},feb:{winnings:0,losses:0,inversion:0},mar:{winnings:0,losses:0,inversion:0},abr:{winnings:0,losses:0,inversion:0},may:{winnings:0,losses:0,inversion:0},jun:{winnings:0,losses:0,inversion:0},jul:{winnings:0,losses:0,inversion:0},ago:{winnings:0,losses:0,inversion:0},sep:{winnings:0,losses:0,inversion:0},oct:{winnings:0,losses:0,inversion:0},nov:{winnings:0,losses:0,inversion:0},dic:{winnings:0,losses:0,inversion:0}},this.trimestre={trimestre1:{winnings:0,losses:0,inversion:0},trimestre2:{winnings:0,losses:0,inversion:0},trimestre3:{winnings:0,losses:0,inversion:0},trimestre4:{winnings:0,losses:0,inversion:0}},this.semestre={semestre1:{winnings:0,losses:0,inversion:0},semestre2:{winnings:0,losses:0,inversion:0}},this.ordersList.forEach(t=>{const s=this.datePipe.transform(t.orders.operationDate,"yyyy"),i=this.datePipe.transform(t.orders.operationDate,"MM");if(s===this.datePipe.transform(this.date1,"yyyy"))switch(i){case"01":const o=this.asginarValueMonth(t);this.months.ene.winnings=this.months.ene.winnings+o.winnings,this.months.ene.losses=this.months.ene.losses+o.losses,this.months.ene.inversion=this.months.ene.inversion+o.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+o.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+o.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+o.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+o.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+o.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+o.inversion;break;case"02":const a=this.asginarValueMonth(t);this.months.feb.winnings=this.months.feb.winnings+a.winnings,this.months.feb.losses=this.months.feb.losses+a.losses,this.months.feb.inversion=this.months.feb.inversion+a.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+a.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+a.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+a.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+a.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+a.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+a.inversion;break;case"03":const l=this.asginarValueMonth(t);this.months.mar.winnings=this.months.mar.winnings+l.winnings,this.months.mar.losses=this.months.mar.losses+l.losses,this.months.mar.inversion=this.months.mar.inversion+l.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+l.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+l.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+l.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+l.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+l.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+l.inversion;break;case"04":const m=this.asginarValueMonth(t);this.months.abr.winnings=this.months.abr.winnings+m.winnings,this.months.abr.losses=this.months.abr.losses+m.losses,this.months.abr.inversion=m.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+m.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+m.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+m.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+m.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+m.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+m.inversion;break;case"05":const c=this.asginarValueMonth(t);this.months.may.winnings=this.months.may.winnings+c.winnings,this.months.may.losses=this.months.may.losses+c.losses,this.months.may.inversion=this.months.may.inversion+c.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+c.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+c.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+c.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+c.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+c.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+c.inversion;break;case"06":const h=this.asginarValueMonth(t);this.months.jun.winnings=this.months.jun.winnings+h.winnings,this.months.jun.losses=this.months.jun.losses+h.losses,this.months.jun.inversion=this.months.jun.inversion+h.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+h.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+h.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+h.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+h.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+h.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+h.inversion;break;case"07":const p=this.asginarValueMonth(t);this.months.jul.winnings=this.months.jul.winnings+p.winnings,this.months.jul.losses=this.months.jul.losses+p.losses,this.months.jul.inversion=this.months.jul.inversion+p.inversion,this.trimestre.trimestre3.winnings=this.trimestre.trimestre3.winnings+p.winnings,this.trimestre.trimestre3.losses=this.trimestre.trimestre3.losses+p.losses,this.trimestre.trimestre3.inversion=this.trimestre.trimestre3.inversion+p.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+p.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+p.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+p.inversion;break;case"08":const u=this.asginarValueMonth(t);this.months.ago.winnings=this.months.ago.winnings+u.winnings,this.months.ago.losses=this.months.ago.losses+u.losses,this.months.ago.inversion=this.months.ago.inversion+u.inversion,this.trimestre.trimestre3.winnings=this.months.ago.winnings+u.winnings,this.trimestre.trimestre3.losses=this.months.ago.losses+u.losses,this.trimestre.trimestre3.inversion=this.months.ago.inversion+u.inversion,this.semestre.semestre2.winnings=this.months.ago.winnings+u.winnings,this.semestre.semestre2.losses=this.months.ago.losses+u.losses,this.semestre.semestre2.inversion=this.months.ago.inversion+u.inversion;break;case"09":const g=this.asginarValueMonth(t);this.months.sep.winnings=this.months.sep.winnings+g.winnings,this.months.sep.losses=this.months.sep.losses+g.losses,this.months.sep.inversion=this.months.sep.inversion+g.inversion,this.trimestre.trimestre3.winnings=this.trimestre.trimestre3.winnings+g.winnings,this.trimestre.trimestre3.losses=this.trimestre.trimestre3.losses+g.losses,this.trimestre.trimestre3.inversion=this.trimestre.trimestre3.inversion+g.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+g.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+g.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+g.inversion;break;case"10":const _=this.asginarValueMonth(t);this.months.oct.winnings=this.months.oct.winnings+_.winnings,this.months.oct.losses=this.months.oct.losses+_.losses,this.months.oct.inversion=this.months.oct.inversion+_.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+_.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+_.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+_.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+_.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+_.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+_.inversion;break;case"11":const b=this.asginarValueMonth(t);this.months.nov.winnings=this.months.nov.winnings+b.winnings,this.months.nov.losses=this.months.nov.losses+b.losses,this.months.nov.inversion=this.months.nov.inversion+b.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+b.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+b.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+b.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+b.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+b.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+b.inversion;break;case"12":const C=this.asginarValueMonth(t);this.months.dic.winnings=this.months.dic.winnings+C.winnings,this.months.dic.losses=this.months.dic.losses+C.losses,this.months.dic.inversion=this.months.dic.inversion+C.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+C.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+C.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+C.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+C.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+C.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+C.inversion}}),this.selectMonth()}asginarValueMonth(t){let s=0,i={winnings:0,losses:0,inversion:0};return t.orders.operationValue>0||!t.orders.isCapital&&t.orders.isWithdrawl?i.winnings=i.winnings+t.orders.operationValue:i.losses=i.losses+Math.abs(t.orders.operationValue),t.orders.operationActions.forEach(o=>{t.orders.isCapital&&(s+=o.benefit*o.quantity)}),i.inversion=s,i}selectMonth(){switch(this.date2.toLocaleString("es-ES",{month:"numeric"})){case"1":this.dataChart={labels:["Enero"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses]}]};break;case"2":this.dataChart={labels:["Febrero"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.feb.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.feb.losses]}]};break;case"3":this.dataChart={labels:["Marzo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.mar.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.mar.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.mar.losses]}]};break;case"4":this.dataChart={labels:["Abril"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.abr.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.abr.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.abr.losses]}]};break;case"5":this.dataChart={labels:["Mayo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.may.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.may.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.may.losses]}]};break;case"6":this.dataChart={labels:["Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jun.losses]}]};break;case"7":this.dataChart={labels:["Julio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses]}]};break;case"8":this.dataChart={labels:["Agosto"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ago.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ago.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ago.losses]}]};break;case"9":this.dataChart={labels:["Septiembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.sep.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.sep.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.sep.losses]}]};break;case"10":this.dataChart={labels:["Octubre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.oct.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.oct.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.oct.losses]}]};break;case"11":this.dataChart={labels:["Noviembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.nov.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.nov.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.nov.losses]}]};break;case"12":this.dataChart={labels:["Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.dic.losses]}]}}}selectTrimestre(){switch(this.selectedTrimestre.id){case"1":this.dataChart={labels:["Enero","Febrero","Marzo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion,this.months.feb.inversion,this.months.mar.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings,this.months.feb.winnings,this.months.mar.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses,this.months.feb.losses,this.months.mar.losses]}]};break;case"2":this.dataChart={labels:["Abril","Mayo","Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.abr.inversion,this.months.may.inversion,this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.abr.winnings,this.months.may.winnings,this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.abr.losses,this.months.may.losses,this.months.jun.losses]}]};break;case"3":this.dataChart={labels:["Julio","Agosto","Septiembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion,this.months.ago.inversion,this.months.sep.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings,this.months.ago.winnings,this.months.sep.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses,this.months.ago.losses,this.months.sep.losses]}]};break;case"4":this.dataChart={labels:["Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.oct.inversion,this.months.nov.inversion,this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.oct.winnings,this.months.nov.winnings,this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.oct.losses,this.months.nov.losses,this.months.dic.losses]}]}}}selectSemestre(t){switch(t){case"1":this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion,this.months.feb.inversion,this.months.mar.inversion,this.months.abr.inversion,this.months.may.inversion,this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings,this.months.feb.winnings,this.months.mar.winnings,this.months.abr.winnings,this.months.may.winnings,this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses,this.months.feb.losses,this.months.mar.losses,this.months.abr.losses,this.months.may.losses,this.months.jun.losses]}]};break;case"2":this.dataChart={labels:["Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion,this.months.ago.inversion,this.months.sep.inversion,this.months.oct.inversion,this.months.nov.inversion,this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings,this.months.ago.winnings,this.months.sep.winnings,this.months.oct.winnings,this.months.nov.winnings,this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses,this.months.ago.losses,this.months.sep.losses,this.months.oct.losses,this.months.nov.losses,this.months.dic.losses]}]}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U),e.Y36(T.gz),e.Y36(Z.ez),e.Y36(v.uU),e.Y36(I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-order-table"]],decls:94,vars:60,consts:[[1,"grid","wrapper","min-w-320"],[3,"dataChart"],[1,"surface-card","shadow-2","p-3","mt-3","border-50","border-round"],[1,"block","text-500","font-medium","mb-3"],[1,"flex","justify-content-between"],[1,"field","flex","flex-column"],["for","yearpicker"],["view","year","dateFormat","yy","inputId","yearpicker",3,"ngModel","ngModelChange","click"],["class","field-checkbox mb-2",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","mt-3"],["class","field mt-2 flex flex-column",4,"ngIf"],["class","field flex flex-column",4,"ngIf"],[1,"col-12"],["class","mb-5",4,"ngIf"],["responsiveLayout","scroll","styleClass","p-datatable-customers",3,"value"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Detalles de la orden",3,"visible","modal","draggable","resizable","visibleChange","onHide"],[1,"grid"],[1,"surface-card","p-4","shadow-2","border-round"],[1,"text-900","md:flex-order-0","flex-order-1","font-medium","mb-2"],[1,"list-none","p-0","m-0"],[1,"flex","align-items-center","py-3","px-2","flex-wrap"],[1,"text-900","w-8","md:w-8","md:flex-order-0","flex-order-1","font-medium"],[1,"text-500","w-2","md:w-2","md:flex-order-0","flex-order-1"],[1,"text-900","w-6","font-medium","md:w-2","hidden","justify-content-end","md:flex"],[1,"flex","align-items-center","border-top-1","surface-border","flex-wrap"],["class","flex md:flex-row flex-column md:justify-content-between align-items-start py-3 px-2",4,"ngFor","ngForOf"],[1,"flex","md:flex-row","flex-column","md:justify-content-between","align-items-start","py-3","px-2"],[1,"text-500","w-8","md:w-8","md:flex-order-0","flex-order-0","font-medium"],[1,"pi","pi-dollar","mr-2"],[1,"text-900","w-6","font-medium","md:w-2","flex","md:justify-content-end","justify-content-start"],["header","Editar la orden",3,"visible","modal","draggable","resizable","visibleChange","onHide"],["type","date",1,"p-inputtext","p-component","p-element","w-4",3,"value","ngModel","ngModelChange"],[1,"flex","align-items-center","border-top-1","surface-border","flex-wrap","mt-5"],["class","flex border-y-1 border-blue-50 py-4","style","border-collapse: collapse",4,"ngFor","ngForOf"],[1,"flex","justify-content-center","pt-4"],[1,"p-element","p-button","p-component",3,"click"],["styleClass","p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"field-checkbox","mb-2"],["name","category",3,"inputId","value","ngModel","disabled","ngModelChange"],[3,"for"],[1,"field","mt-2","flex","flex-column"],["for","monthpicker"],["view","month","dateFormat","MM","inputId","monthpicker",3,"ngModel","readonlyInput","ngModelChange"],["for","trimestrePicker"],["placeholder","Seleccione","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],["for","semestrePicker"],["name","category",3,"inputId","value","ngModel","ngModelChange"],[1,"mb-5"],[1,"p-toolbar-group-left"],[1,"mr-2"],[1,"p-toolbar-group-right"],["label","Nueva orden","icon","pi pi-plus",1,"mr-2",3,"click"],["label","Volver","styleClass","p-button-danger mr-2"],["pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center"],["field","name"],["pSortableColumn","surname"],["field","apellido"],["pSortableColumn","email"],[1,"pi","pi-info-circle","mr-2"],["field","email"],["pSortableColumn","currency"],["field","moneda"],[1,"pi","pi-plus-circle","mr-2"],[4,"ngIf"],[1,"pi","pi-pencil","mr-2"],[1,"pi","pi-times-circle","mr-2"],[1,"p-selectable-row"],[2,"text-align","center"],["style","text-align: center",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-search",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times-circle",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],["pButton","","pRipple","","label","Finalizar","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Cancelar",1,"p-button-danger","md:ml-2","ml-0",3,"click"],["pButton","","pRipple","","label","Finalizar",1,"p-button-success",3,"click"],[1,"min-w-full"],["colspan","12"],[1,"pi","pi-chart-line","mr-2"],[1,"flex","border-y-1","border-blue-50","py-4",2,"border-collapse","collapse"],[1,"text-500","font-medium","w-12"],[1,"flex","flex-column","md:flex-row"],[1,"flex","align-items-center","md:w-4","w-auto","my-2","md:my-0"],[1,"mb-0"],[1,"flex","align-items-center","md:pl-2","my-2","md:my-0"],[1,"md:w-auto","w-4","md:mr-2","mr-0",3,"for"],["type","number",1,"p-inputtext","p-component","p-element","md:w-6","w-8",3,"name","value","keyup","change"],[1,"text-500","font-medium","flex","justify-content-start","align-items-center","md:pl-2","my-2","md:my-0"],["class","p-button my-2 md:my-0 md:ml-2 md:w-3 w-auto justify-content-center",3,"click",4,"ngIf"],[1,"p-button","my-2","md:my-0","md:ml-2","md:w-3","w-auto","justify-content-center",3,"click"],[1,"grid","formgrid","p-fluid"],[1,"col-12","mb-4","ml-2"],["class","font-medium mb-1",4,"ngFor","ngForOf"],[1,"field","mb-4","sm:col-8","col-12"],["for","name",1,"font-medium","text-900"],[1,"p-input-icon-left"],[1,"pi","pi-building"],["id","address","type","text","placeholder","Ingrese movimiento",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],[1,"field","mb-4","sm:col-2","col-12"],["placeholder","0",3,"ngModel","useGrouping","ngModelChange"],["placeholder","USD",3,"ngModel","useGrouping","ngModelChange"],[1,"flex","flex-wrap","flex-column","sm:flex-row","w-full","justify-content-center","align-items-center"],[1,"field","mb-4","sm:col-6","col-11"],["label","Agregar movimiento","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick",4,"ngIf"],["label","Agregar capital","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick",4,"ngIf"],["label","Retirar de capital","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick",4,"ngIf"],["label","Retirar de ganancia","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick",4,"ngIf"],[1,"font-medium","mb-1"],[1,"text-900"],[1,"text-500"],[1,"pi","pi-trash","ml-2",2,"cursor","pointer",3,"click"],["label","Agregar movimiento","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick"],["label","Agregar capital","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick"],["label","Retirar de capital","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick"],["label","Retirar de ganancia","icon","pi pi-plus","styleClass","p-button-info mr-2",3,"onClick"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-success","p-button-text",3,"click"],[1,"field","mb-4","col-8"],["for","Ganancia",1,"font-medium","text-900"],["id","Ganancia","placeholder","USD",3,"ngModel","useGrouping","ngModelChange"],["for","Perdida",1,"font-medium","text-900"],["id","Perdida","placeholder","USD",3,"ngModel","useGrouping","ngModelChange"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"div"),e._UZ(3,"app-account-details"),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"app-charts",1),e.qZA()(),e.TgZ(6,"div")(7,"div",2)(8,"label",3),e._uU(9,"Opciones"),e.qZA(),e.TgZ(10,"div",4)(11,"div",5)(12,"label",6),e._uU(13,"Seleccionar A\xf1o"),e.qZA(),e.TgZ(14,"p-calendar",7),e.NdJ("ngModelChange",function(o){return s.date1=o})("click",function(){return s.getDataOnCharts()}),e.qZA()()(),e._UZ(15,"div",4),e.YNc(16,Ge,4,6,"div",8),e._UZ(17,"div",9),e.YNc(18,je,4,2,"div",10),e._UZ(19,"div",9),e.YNc(20,Re,4,3,"div",11),e._UZ(21,"div",9),e.YNc(22,Qe,4,1,"div",11),e.qZA()()(),e.TgZ(23,"div",12),e.YNc(24,Ye,10,1,"div",13),e.TgZ(25,"p-table",14,15),e.YNc(27,Ve,49,3,"ng-template",16),e.YNc(28,rt,24,19,"ng-template",17),e.YNc(29,at,3,0,"ng-template",18),e.qZA(),e.TgZ(30,"p-dialog",19),e.NdJ("visibleChange",function(o){return s.displayMore=o})("onHide",function(){return s.closeMore()}),e.TgZ(31,"div",20)(32,"div",12)(33,"div",21)(34,"div",22)(35,"span"),e._uU(36," El movimiento "),e.TgZ(37,"span"),e._uU(38),e.qZA(),e._uU(39," se realiz\xf3 el "),e.TgZ(40,"span"),e._uU(41),e.ALo(42,"date"),e.qZA(),e._uU(43," y est\xe1 actualmente "),e.TgZ(44,"span"),e._uU(45),e.qZA(),e._uU(46," . "),e.qZA()(),e.TgZ(47,"ul",23)(48,"li",24)(49,"div",25)(50,"span"),e._uU(51,"CUENTA"),e.qZA()(),e._UZ(52,"div",26),e.TgZ(53,"div",27),e._uU(54," TOTAL "),e.qZA()(),e._UZ(55,"div",28),e.YNc(56,lt,7,3,"li",29),e._UZ(57,"div",28),e.TgZ(58,"li",30)(59,"div",31)(60,"span"),e._UZ(61,"i",32),e._uU(62," Total "),e.qZA()(),e.TgZ(63,"div",33),e._uU(64),e.qZA()()()()()()(),e.TgZ(65,"p-dialog",34),e.NdJ("visibleChange",function(o){return s.displayEdit=o})("onHide",function(){return s.closeMore()}),e.TgZ(66,"div",20)(67,"div",12)(68,"div",21)(69,"div",22)(70,"span"),e._uU(71," La operacion "),e.TgZ(72,"span"),e._uU(73),e.qZA(),e._uU(74," se realiz\xf3 el "),e.TgZ(75,"input",35),e.NdJ("ngModelChange",function(o){return s.editDate=o}),e.qZA(),e._uU(76," y est\xe1 actualmente "),e.TgZ(77,"span"),e._uU(78),e.qZA(),e._uU(79," . "),e.qZA()(),e.TgZ(80,"ul",23),e._UZ(81,"div",36),e.YNc(82,ct,16,8,"li",37),e._UZ(83,"div",28),e.qZA(),e.TgZ(84,"div",38)(85,"button",39),e.NdJ("click",function(){return s.editOrder()}),e._uU(86," Actualizar orden "),e.qZA()()()()()(),e.TgZ(87,"p-dialog",40),e.NdJ("visibleChange",function(o){return s.displayModel=o}),e.YNc(88,_t,28,10,"ng-template",41),e.YNc(89,bt,2,0,"ng-template",42),e.qZA(),e.TgZ(90,"p-dialog",40),e.NdJ("visibleChange",function(o){return s.displayFinalizado=o}),e.YNc(91,Ct,11,4,"ng-template",41),e.YNc(92,vt,2,0,"ng-template",42),e.qZA(),e._UZ(93,"p-toast"),e.qZA()),2&t&&(e.xp6(5),e.Q6J("dataChart",s.dataChart),e.xp6(9),e.Q6J("ngModel",s.date1),e.xp6(2),e.Q6J("ngForOf",s.options),e.xp6(2),e.Q6J("ngIf","M"===s.selectedOption.key),e.xp6(2),e.Q6J("ngIf","T"===s.selectedOption.key),e.xp6(2),e.Q6J("ngIf","S"===s.selectedOption.key),e.xp6(2),e.Q6J("ngIf",s.byClient),e.xp6(1),e.Q6J("value",s.ordersList),e.xp6(5),e.Akn(s.width>960?e.DdM(53,H):e.DdM(54,V)),e.Q6J("visible",s.displayMore)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(7),e.Tol("customer-badge status-new"),e.xp6(1),e.hij(" #",s.orderSelected.operationNumber," "),e.xp6(2),e.Tol("customer-badge status-new"),e.xp6(1),e.hij(" ",e.xi3(42,50,s.orderSelected.operationDate,"dd/MM/yyyy")," "),e.xp6(3),e.Tol("customer-badge status-"+s.colorStatus),e.xp6(1),e.hij(" ",s.orderSelected.operationStatus," "),e.xp6(11),e.Q6J("ngForOf",s.orderSelected.operationActions),e.xp6(8),e.hij(" $",s.total,".00 USD "),e.xp6(1),e.Akn(s.width>960?e.DdM(55,H):e.DdM(56,V)),e.Q6J("visible",s.displayEdit)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(7),e.Tol("customer-badge status-new"),e.xp6(1),e.hij(" #",s.orderSelected.operationNumber," "),e.xp6(2),e.Q6J("value",s.editDate)("ngModel",s.editDate),e.xp6(2),e.Tol("customer-badge status-"+s.colorStatus),e.xp6(1),e.hij(" ",s.orderSelected.operationStatus," "),e.xp6(4),e.Q6J("ngForOf",s.orderSelected.operationActions),e.xp6(5),e.Akn(s.width>900?e.DdM(57,ft):e.DdM(58,wt)),e.MGl("header","Nueva orden #",s.numOrdenNueva,""),e.Q6J("visible",s.displayModel)("modal",!0),e.xp6(3),e.Akn(e.DdM(59,Zt)),e.MGl("header","Finalizar Orden #",s.orderSelected.operationNumber,""),e.Q6J("visible",s.displayFinalizado)("modal",!0))},dependencies:[v.sg,v.O5,M.Hq,M.zx,D.f,Z.jx,B.V,J.Lt,Fe.Rn,Q.EU,A.iA,A.lQ,A.fz,k.FN,Ie.o,w.Fj,w.JJ,w.On,Y,z,v.uU],styles:[".customer-badge[_ngcontent-%COMP%]{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.customer-badge.status-Cancelado[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.customer-badge.status-Finalizado[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.customer-badge.status-new[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:80% auto;padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1) > div[_ngcontent-%COMP%]{padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){grid-column:1/2}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){grid-column:2/3;grid-row:1/2;padding:8px}@media (max-width: 960px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:100%}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){grid-column:1/2;padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){grid-row:2/3}}"]}),n})();function At(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Administrador"),e.qZA()())}function xt(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Cliente"),e.qZA()())}function yt(n,r){1&n&&(e.TgZ(0,"li",4),e._UZ(1,"i",5),e.qZA())}function Mt(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2," Lista de Clientes "),e.qZA()())}let qt=(()=>{class n{constructor(t,s,i,o,a){this.ordersServices=t,this.router=s,this.messageService=i,this.datePipe=o,this.authService=a,this.ordersList=[],this.orders=[],this.total=0,this.byClient=!1,this.nameClient="",this.numOrdenNueva=0,this.date=new Date,this.accionistas=[],this.accionistaName="",this.accionistaQuantity=0,this.accionistaBenefit=0,this.totalFinalizado=0,this.date2=new Date,this.date1=new Date,this.selectedOption={name:"",key:""},this.options=[{name:"Mes",key:"M"},{name:"Trimestre",key:"T"},{name:"Semestre",key:"S"}],this.semestreOption=null,this.semestres=[{id:"1",name:"1\xb0 Semestre"},{id:"2",name:"2\xb0 Semestre"}],this.trimestres=[],this.selectedTrimestre={id:"",name:""},this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[]},{label:"Perdidas",backgroundColor:"#EC407A",data:[]}]},this.months={ene:{winnings:3,losses:7,inversion:10},feb:{winnings:0,losses:0,inversion:0},mar:{winnings:0,losses:0,inversion:0},abr:{winnings:0,losses:0,inversion:0},may:{winnings:0,losses:0,inversion:0},jun:{winnings:0,losses:0,inversion:0},jul:{winnings:0,losses:0,inversion:0},ago:{winnings:0,losses:0,inversion:0},sep:{winnings:0,losses:0,inversion:0},oct:{winnings:0,losses:0,inversion:0},nov:{winnings:0,losses:0,inversion:0},dic:{winnings:0,losses:0,inversion:0}},this.trimestre={trimestre1:{winnings:0,losses:0,inversion:0},trimestre2:{winnings:0,losses:0,inversion:0},trimestre3:{winnings:0,losses:0,inversion:0},trimestre4:{winnings:0,losses:0,inversion:0}},this.semestre={semestre1:{winnings:0,losses:0,inversion:0},semestre2:{winnings:0,losses:0,inversion:0}},this.role=this.authService.getRole();const l=new Date;this.orderSelected={clientId:"",operationActions:[],operationDate:l,operationNumber:0,operationStatus:"",operationValue:0},this.trimestres=[{id:"1",name:"1\xb0 Trimestre"},{id:"2",name:"2\xb0 Trimestre"},{id:"3",name:"3\xb0 Trimestre"},{id:"4",name:"4\xb0 Trimestre"}],this.router.queryParams.subscribe(m=>{this.byClient=m.byClient}),this.byClient?this.getByClient():this.getByClientNoAdmin()}ngOnInit(){this.router.queryParams.subscribe(t=>{console.log(t)})}getByClient(){this.ordersList=[],this.ordersServices.getOrdersByClient().subscribe(s=>{this.orders=s.ordenes,this.orders.forEach(i=>{let o=0;i.operationActions.forEach(m=>{i.isCapital&&(o+=m.benefit*m.quantity)});let a="$0.00";i.operationValue<0?a=`$-${Math.abs(i.operationValue)}.00`:i.operationValue>0&&(a=`$${i.operationValue}.00`);const l={total:o,orders:i,colorStatus:this.setColorStatus(i.operationStatus),valorFinal:a,isCapital:i.isCapital,isWithdrawl:i.isWithdrawl};this.ordersList.push(l)}),this.getDataOnCharts()});const t=this.ordersServices.getUserName();this.nameClient=`${t.name} ${t.surname}`}getByClientNoAdmin(){this.ordersList=[],this.ordersServices.getOrdersByClientNoAdmin().subscribe(s=>{this.orders=s.ordenes,this.orders.forEach(i=>{let o=0;i.operationActions.forEach(m=>{i.isCapital&&(o+=m.benefit*m.quantity)});let a="$0.00";i.operationValue<0?a=`$-${Math.abs(i.operationValue)}.00`:i.operationValue>0&&(a=`$${i.operationValue}.00`);const l={total:o,orders:i,colorStatus:this.setColorStatus(i.operationStatus),valorFinal:a,isCapital:i.isCapital,isWithdrawl:i.isWithdrawl};this.ordersList.push(l)}),this.getDataOnCharts()});const t=this.ordersServices.getUserName();this.nameClient=`${t.name} ${t.surname}`}setColorStatus(t){return"Finalizado"===t||"Cancelado"===t?t:"new"}getDataOnCharts(){this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[]},{label:"Perdidas",backgroundColor:"#EC407A",data:[]}]},this.months={ene:{winnings:0,losses:0,inversion:0},feb:{winnings:0,losses:0,inversion:0},mar:{winnings:0,losses:0,inversion:0},abr:{winnings:0,losses:0,inversion:0},may:{winnings:0,losses:0,inversion:0},jun:{winnings:0,losses:0,inversion:0},jul:{winnings:0,losses:0,inversion:0},ago:{winnings:0,losses:0,inversion:0},sep:{winnings:0,losses:0,inversion:0},oct:{winnings:0,losses:0,inversion:0},nov:{winnings:0,losses:0,inversion:0},dic:{winnings:0,losses:0,inversion:0}},this.trimestre={trimestre1:{winnings:0,losses:0,inversion:0},trimestre2:{winnings:0,losses:0,inversion:0},trimestre3:{winnings:0,losses:0,inversion:0},trimestre4:{winnings:0,losses:0,inversion:0}},this.semestre={semestre1:{winnings:0,losses:0,inversion:0},semestre2:{winnings:0,losses:0,inversion:0}},this.ordersList.forEach(t=>{const s=this.datePipe.transform(t.orders.operationDate,"yyyy"),i=this.datePipe.transform(t.orders.operationDate,"MM");if(s===this.datePipe.transform(this.date1,"yyyy"))switch(i){case"01":const o=this.asginarValueMonth(t);this.months.ene.winnings=this.months.ene.winnings+o.winnings,this.months.ene.losses=this.months.ene.losses+o.losses,this.months.ene.inversion=this.months.ene.inversion+o.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+o.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+o.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+o.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+o.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+o.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+o.inversion;break;case"02":const a=this.asginarValueMonth(t);this.months.feb.winnings=this.months.feb.winnings+a.winnings,this.months.feb.losses=this.months.feb.losses+a.losses,this.months.feb.inversion=this.months.feb.inversion+a.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+a.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+a.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+a.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+a.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+a.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+a.inversion;break;case"03":const l=this.asginarValueMonth(t);this.months.mar.winnings=this.months.mar.winnings+l.winnings,this.months.mar.losses=this.months.mar.losses+l.losses,this.months.mar.inversion=this.months.mar.inversion+l.inversion,this.trimestre.trimestre1.winnings=this.trimestre.trimestre1.winnings+l.winnings,this.trimestre.trimestre1.losses=this.trimestre.trimestre1.losses+l.losses,this.trimestre.trimestre1.inversion=this.trimestre.trimestre1.inversion+l.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+l.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+l.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+l.inversion;break;case"04":const m=this.asginarValueMonth(t);this.months.abr.winnings=this.months.abr.winnings+m.winnings,this.months.abr.losses=this.months.abr.losses+m.losses,this.months.abr.inversion=m.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+m.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+m.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+m.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+m.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+m.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+m.inversion;break;case"05":const c=this.asginarValueMonth(t);this.months.may.winnings=this.months.may.winnings+c.winnings,this.months.may.losses=this.months.may.losses+c.losses,this.months.may.inversion=this.months.may.inversion+c.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+c.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+c.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+c.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+c.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+c.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+c.inversion;break;case"06":const h=this.asginarValueMonth(t);this.months.jun.winnings=this.months.jun.winnings+h.winnings,this.months.jun.losses=this.months.jun.losses+h.losses,this.months.jun.inversion=this.months.jun.inversion+h.inversion,this.trimestre.trimestre2.winnings=this.trimestre.trimestre2.winnings+h.winnings,this.trimestre.trimestre2.losses=this.trimestre.trimestre2.losses+h.losses,this.trimestre.trimestre2.inversion=this.trimestre.trimestre2.inversion+h.inversion,this.semestre.semestre1.winnings=this.semestre.semestre1.winnings+h.winnings,this.semestre.semestre1.losses=this.semestre.semestre1.losses+h.losses,this.semestre.semestre1.inversion=this.semestre.semestre1.inversion+h.inversion;break;case"07":const p=this.asginarValueMonth(t);this.months.jul.winnings=this.months.jul.winnings+p.winnings,this.months.jul.losses=this.months.jul.losses+p.losses,this.months.jul.inversion=this.months.jul.inversion+p.inversion,this.trimestre.trimestre3.winnings=this.trimestre.trimestre3.winnings+p.winnings,this.trimestre.trimestre3.losses=this.trimestre.trimestre3.losses+p.losses,this.trimestre.trimestre3.inversion=this.trimestre.trimestre3.inversion+p.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+p.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+p.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+p.inversion;break;case"08":const u=this.asginarValueMonth(t);this.months.ago.winnings=this.months.ago.winnings+u.winnings,this.months.ago.losses=this.months.ago.losses+u.losses,this.months.ago.inversion=this.months.ago.inversion+u.inversion,this.trimestre.trimestre3.winnings=this.months.ago.winnings+u.winnings,this.trimestre.trimestre3.losses=this.months.ago.losses+u.losses,this.trimestre.trimestre3.inversion=this.months.ago.inversion+u.inversion,this.semestre.semestre2.winnings=this.months.ago.winnings+u.winnings,this.semestre.semestre2.losses=this.months.ago.losses+u.losses,this.semestre.semestre2.inversion=this.months.ago.inversion+u.inversion;break;case"09":const g=this.asginarValueMonth(t);this.months.sep.winnings=this.months.sep.winnings+g.winnings,this.months.sep.losses=this.months.sep.losses+g.losses,this.months.sep.inversion=this.months.sep.inversion+g.inversion,this.trimestre.trimestre3.winnings=this.trimestre.trimestre3.winnings+g.winnings,this.trimestre.trimestre3.losses=this.trimestre.trimestre3.losses+g.losses,this.trimestre.trimestre3.inversion=this.trimestre.trimestre3.inversion+g.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+g.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+g.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+g.inversion;break;case"10":const _=this.asginarValueMonth(t);this.months.oct.winnings=this.months.oct.winnings+_.winnings,this.months.oct.losses=this.months.oct.losses+_.losses,this.months.oct.inversion=this.months.oct.inversion+_.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+_.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+_.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+_.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+_.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+_.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+_.inversion;break;case"11":const b=this.asginarValueMonth(t);this.months.nov.winnings=this.months.nov.winnings+b.winnings,this.months.nov.losses=this.months.nov.losses+b.losses,this.months.nov.inversion=this.months.nov.inversion+b.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+b.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+b.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+b.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+b.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+b.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+b.inversion;break;case"12":const C=this.asginarValueMonth(t);this.months.dic.winnings=this.months.dic.winnings+C.winnings,this.months.dic.losses=this.months.dic.losses+C.losses,this.months.dic.inversion=this.months.dic.inversion+C.inversion,this.trimestre.trimestre4.winnings=this.trimestre.trimestre4.winnings+C.winnings,this.trimestre.trimestre4.losses=this.trimestre.trimestre4.losses+C.losses,this.trimestre.trimestre4.inversion=this.trimestre.trimestre4.inversion+C.inversion,this.semestre.semestre2.winnings=this.semestre.semestre2.winnings+C.winnings,this.semestre.semestre2.losses=this.semestre.semestre2.losses+C.losses,this.semestre.semestre2.inversion=this.semestre.semestre2.inversion+C.inversion}}),this.selectMonth()}asginarValueMonth(t){let s=0,i={winnings:0,losses:0,inversion:0};return t.orders.operationValue>0||!t.orders.isCapital&&t.orders.isWithdrawl?i.winnings=i.winnings+t.orders.operationValue:i.losses=i.losses+Math.abs(t.orders.operationValue),t.orders.operationActions.forEach(o=>{t.orders.isCapital&&(s+=o.benefit*o.quantity)}),i.inversion=s,i}selectMonth(){switch(this.date2.toLocaleString("es-ES",{month:"numeric"})){case"1":this.dataChart={labels:["Enero"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses]}]};break;case"2":this.dataChart={labels:["Febrero"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.feb.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.feb.losses]}]};break;case"3":this.dataChart={labels:["Marzo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.mar.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.mar.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.mar.losses]}]};break;case"4":this.dataChart={labels:["Abril"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.abr.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.abr.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.abr.losses]}]};break;case"5":this.dataChart={labels:["Mayo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.may.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.may.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.may.losses]}]};break;case"6":this.dataChart={labels:["Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jun.losses]}]};break;case"7":this.dataChart={labels:["Julio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses]}]};break;case"8":this.dataChart={labels:["Agosto"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ago.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ago.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ago.losses]}]};break;case"9":this.dataChart={labels:["Septiembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.sep.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.sep.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.sep.losses]}]};break;case"10":this.dataChart={labels:["Octubre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.oct.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.oct.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.oct.losses]}]};break;case"11":this.dataChart={labels:["Noviembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.nov.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.nov.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.nov.losses]}]};break;case"12":this.dataChart={labels:["Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.dic.losses]}]}}}selectTrimestre(){switch(this.selectedTrimestre.id){case"1":this.dataChart={labels:["Enero","Febrero","Marzo"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion,this.months.feb.inversion,this.months.mar.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings,this.months.feb.winnings,this.months.mar.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses,this.months.feb.losses,this.months.mar.losses]}]};break;case"2":this.dataChart={labels:["Abril","Mayo","Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.abr.inversion,this.months.may.inversion,this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.abr.winnings,this.months.may.winnings,this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.abr.losses,this.months.may.losses,this.months.jun.losses]}]};break;case"3":this.dataChart={labels:["Julio","Agosto","Septiembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion,this.months.ago.inversion,this.months.sep.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings,this.months.ago.winnings,this.months.sep.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses,this.months.ago.losses,this.months.sep.losses]}]};break;case"4":this.dataChart={labels:["Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.oct.inversion,this.months.nov.inversion,this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.oct.winnings,this.months.nov.winnings,this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.oct.losses,this.months.nov.losses,this.months.dic.losses]}]}}}selectSemestre(t){switch(t){case"1":this.dataChart={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.ene.inversion,this.months.feb.inversion,this.months.mar.inversion,this.months.abr.inversion,this.months.may.inversion,this.months.jun.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.ene.winnings,this.months.feb.winnings,this.months.mar.winnings,this.months.abr.winnings,this.months.may.winnings,this.months.jun.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.ene.losses,this.months.feb.losses,this.months.mar.losses,this.months.abr.losses,this.months.may.losses,this.months.jun.losses]}]};break;case"2":this.dataChart={labels:["Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"Capital",backgroundColor:"#EEC137",data:[this.months.jul.inversion,this.months.ago.inversion,this.months.sep.inversion,this.months.oct.inversion,this.months.nov.inversion,this.months.dic.inversion]},{label:"Ganancias",backgroundColor:"#66BB6A",data:[this.months.jul.winnings,this.months.ago.winnings,this.months.sep.winnings,this.months.oct.winnings,this.months.nov.winnings,this.months.dic.winnings]},{label:"Perdidas",backgroundColor:"#EC407A",data:[this.months.jul.losses,this.months.ago.losses,this.months.sep.losses,this.months.oct.losses,this.months.nov.losses,this.months.dic.losses]}]}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U),e.Y36(T.gz),e.Y36(Z.ez),e.Y36(v.uU),e.Y36(y.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-order-list"]],decls:20,vars:4,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],["class","px-2",4,"ngIf"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"min-h-screen","flex","flex-column","relative","flex-auto"],[1,"flex","flex-column","flex-auto"],[1,"p-4","md:p-5","min-w-320"],[1,"grid","justify-content-center","md:justify-content-start"],[1,"overflow-hidden"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.YNc(6,At,3,0,"li",6),e.YNc(7,xt,3,0,"li",6),e.YNc(8,yt,2,0,"li",6),e.YNc(9,Mt,3,0,"li",6),e.TgZ(10,"li",4),e._UZ(11,"i",5),e.qZA(),e.TgZ(12,"li",4)(13,"a",7),e._uU(14," Lista de Ordenes "),e.qZA()()(),e.TgZ(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11),e._UZ(19,"app-order-table",12),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Q6J("ngIf",2==s.role),e.xp6(1),e.Q6J("ngIf",s.byClient),e.xp6(1),e.Q6J("ngIf",s.byClient))},dependencies:[v.O5,Tt],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:80% auto;padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1) > div[_ngcontent-%COMP%]{padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){grid-column:1/2}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){grid-column:2/3;grid-row:1/2;padding:8px}@media (max-width: 960px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:100%;width:100%}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){grid-column:1/2;padding:4px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){grid-row:2/3}}"]}),n})();var $=d(6163),W=d(7676),X=d(1607),Ut=d(3238);function kt(n,r){1&n&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"div",20),e.TgZ(3,"label",21),e._uU(4,"NUMERO DE TARJETA"),e.qZA(),e._UZ(5,"input",22)(6,"div",23)(7,"div",24),e.TgZ(8,"label",21),e._uU(9,"CSV"),e.qZA(),e._UZ(10,"input",25)(11,"div",26)(12,"div",24),e.TgZ(13,"label",21),e._uU(14,"FECHA DE VEN."),e.qZA(),e._UZ(15,"input",22)(16,"div",23)(17,"div",24),e.TgZ(18,"label",21),e._uU(19,"MONTO SOLICITADO"),e.qZA(),e._UZ(20,"input",27)(21,"div",23),e.qZA()())}function St(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"div",20),e.TgZ(3,"label",21),e._uU(4,"CUENTA DE IBAN"),e.qZA(),e.TgZ(5,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.ibanAccount=i)}),e.qZA(),e._UZ(6,"div",23)(7,"div",24),e.TgZ(8,"label",21),e._uU(9,"NOMBRE DE BANCO"),e.qZA(),e.TgZ(10,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.bankName=i)}),e.qZA(),e._UZ(11,"div",23)(12,"div",24),e.TgZ(13,"label",21),e._uU(14,"NUMERO DE CUENTA"),e.qZA(),e.TgZ(15,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.numberAccount=i)}),e.qZA(),e._UZ(16,"div",23)(17,"div",24),e.TgZ(18,"label",21),e._uU(19,"MONTO SOLICITADO"),e.qZA(),e.TgZ(20,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.requestedValue=i)}),e.qZA(),e._UZ(21,"div",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.ibanAccount),e.xp6(5),e.Q6J("ngModel",t.bankName),e.xp6(5),e.Q6J("ngModel",t.numberAccount),e.xp6(5),e.Q6J("ngModel",t.requestedValue)}}function Nt(n,r){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Et(n,r){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ot(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",30),e._UZ(1,"div",24),e.TgZ(2,"label",35),e._uU(3,"SELECCIONA TU BANCO"),e.qZA(),e.TgZ(4,"mat-form-field",31)(5,"mat-label"),e._uU(6,"Bancos disponibles"),e.qZA(),e.TgZ(7,"mat-select",38),e.NdJ("valueChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.bankName=i)}),e.YNc(8,Et,2,2,"mat-option",33),e.qZA()(),e._UZ(9,"div",23),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("value",t.bankName),e.xp6(1),e.Q6J("ngForOf",t.bankOptions)}}function Dt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30),e._UZ(2,"div",24),e.TgZ(3,"label",21),e._uU(4,"SELECCIONA TU PA\xcdS"),e.qZA(),e.TgZ(5,"mat-form-field",31)(6,"mat-label"),e._uU(7,"Selecciona tu pa\xeds"),e.qZA(),e.TgZ(8,"mat-select",32),e.NdJ("valueChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selected=i)})("selectionChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.getBankOptions(i.selected))}),e.YNc(9,Nt,2,2,"mat-option",33),e.qZA()(),e._UZ(10,"div",23),e.qZA(),e.YNc(11,Ot,10,2,"div",34),e.TgZ(12,"div",30),e._UZ(13,"div",24),e.TgZ(14,"label",35),e._uU(15,"MONTO SOLICITADO"),e.qZA(),e.TgZ(16,"input",36),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.requestedValue=i)}),e.qZA(),e._UZ(17,"div",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("value",t.selected),e.xp6(1),e.Q6J("ngForOf",t.bankNames),e.xp6(2),e.Q6J("ngIf","Null"!==t.selected),e.xp6(5),e.Q6J("ngModel",t.requestedValue)}}function Jt(n,r){1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"h2"),e._uU(3,"En construcci\xf3n"),e.qZA()()())}function Bt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createRequest())}),e.qZA()}}let ee=(()=>{class n{constructor(t,s,i,o,a){this.requestServices=t,this.router=s,this.messageService=i,this.ordersServices=o,this.route=a,this.itemActivo=2,this.date=new Date,this.ibanAccount="",this.bankName="",this.numberAccount=0,this.requestedValue=0,this.bankData={Ecuador:["Banco Guayaquil","Banco Pichincha","Red Activa","Mi Comisariato","Farmacias 911","T\xeda","Tarjeta de Cr\xe9dito o D\xe9bito"],Chile:["Banco BCI","BANCO TBANC","aCuenta","Express L\xedder","L\xedder","ServiEstado","Caja Vecina","Mach","Banco Estado","Khipu","Khipu Banco Estado","Khipu BCI","Tarjeta de Cr\xe9dito o D\xe9bito"],"Costa Rica":["Banco Nacional\n","Tarjeta de Cr\xe9dito o D\xe9bito"],Per\u00fa:["BBVA Continental","Banco de Cr\xe9dito","Caja Arequipa","Caja Huancayo","Caja Tacna","Caja Trujillo","Interbank","Banco Ripley","Scotibank Per\xfa","Tambo","Western Uni\xf3n","Tarjeta de Cr\xe9dito o D\xe9bito"],M\u00e9xico:["Banco Azteca","Banorte","HSBC M\xe9xico","OpenPay","SPEI MX","Banco Santander","Scotibank M\xe9xico","Tarjeta de Cr\xe9dito o D\xe9bito"],"El Salvador":["Punto Xpress SLV","Tarjeta de Cr\xe9dito o D\xe9bito"],Colombia:["Efecty","PSE","Tarjeta de Cr\xe9dito o D\xe9bito"],USA:["Evolve Bank & Trust","Tarjeta de Cr\xe9dito o D\xe9bito"],Bolivia:["Tarjeta de Cr\xe9dito o D\xe9bito"],Nicaragua:["Tarjeta de Cr\xe9dito o D\xe9bito","Criptomonedas"],Honduras:["Tarjeta de Cr\xe9dito o D\xe9bito","Criptomonedas"],Panam\u00e1:["Western Uni\xf3n","Tarjeta de Cr\xe9dito o D\xe9bito"]},this.bankNames=Object.keys(this.bankData),this.selected="Null",this.bankOptions=[],this.items=[{id:"2",label:"Banco",icon:"pi pi-fw pi-money-bill",command:l=>this.prueba(l)}],this.activeItem=this.items[0]}prueba(t){this.itemActivo=Number(t.item.id)}getBankOptions(t){this.bankOptions=this.findValueByPrefix(this.bankData,t)}clearInputs(){this.ibanAccount="",this.bankName="",this.numberAccount=0,this.requestedValue=0}findValueByPrefix(t,s){for(var i in t)if(t.hasOwnProperty(i)&&i.toString().startsWith(s))return t[i]}createRequest(){const t=new Date;this.requestServices.createRequest({_id:"",clientId:"",clientName:"",ibanAccount:"",bankName:this.bankName,numberAccount:"",requestedValue:this.requestedValue,requestStatus:"Creado",requestDate:t,requestType:"Deposito"}).subscribe(i=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Solicitud de Deposito Exitoso"}),this.clearInputs(),setTimeout(()=>{this.route.navigate(["/dashboard"])},2e3)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I),e.Y36(T.gz),e.Y36(Z.ez),e.Y36(U),e.Y36(T.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-deposit"]],decls:30,vars:7,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"col-12","lg:col-12"],[1,"p-3","h-full"],[1,"shadow-2","p-3","h-full","flex","flex-column","surface-card",2,"border-radius","6px"],[1,"text-900","font-medium","text-xl","mb-2"],[1,"text-600"],[1,"my-3","mx-0","border-top-1","border-none","surface-border"],[3,"model","activeItem"],["class","mt-5",4,"ngIf"],["class","mt-5 wrapper",4,"ngIf"],[1,"mb-3","mt-3","mx-0","border-top-1","border-none","surface-border"],["pButton","","pRipple","","label","Enviar","class","p-3 w-3 align-self-center",3,"click",4,"ngIf"],[1,"mt-5"],[1,"grid","ml-3"],[1,"col-0","lg:col-3"],[1,"mr-3","col-4","lg:col-2"],["type","text","pInputText","",1,"col-4","mb-3"],[1,"col-1","lg:col-2"],[1,"col-1","lg:col-3"],["type","text","pInputText","",1,"col-1","mb-3","lg:col-1"],[1,"col-3","lg:col-5"],["type","text","pInputText","",1,"col-4"],["type","text","pInputText","",1,"col-4","mb-3",3,"ngModel","ngModelChange"],[1,"mt-5","wrapper"],[1,"flex","flex-column","sm:flex-row"],["appearance","fill","color","accent",1,"choose_child","sm:w-4","w-12"],[2,"padding","0.5rem 0.7rem 0.5rem 0.3rem",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-column sm:flex-row",4,"ngIf"],[1,"mr-3","col-4","lg:col-2","pb-2"],["type","text","pInputText","",1,"col-4","mb-3","sm:w-4","w-12",3,"ngModel","ngModelChange"],[3,"value"],[2,"padding","0.5rem 0.7rem 0.5rem 0.3rem",3,"value","valueChange"],["pButton","","pRipple","","label","Enviar",1,"p-3","w-3","align-self-center",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.TgZ(6,"li",4)(7,"a",6),e._uU(8,"Cliente"),e.qZA()(),e.TgZ(9,"li",4),e._UZ(10,"i",5),e.qZA(),e.TgZ(11,"li",4)(12,"a",6),e._uU(13,"Dep\xf3sito"),e.qZA()()(),e.TgZ(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",10),e._uU(18,"DEP\xd3SITO"),e.qZA(),e.TgZ(19,"div",11),e._uU(20,"Aqu\xed podr\xe1s realizar tu dep\xf3sito"),e.qZA(),e._UZ(21,"hr",12)(22,"p-tabMenu",13),e.YNc(23,kt,22,0,"div",14),e.YNc(24,St,22,4,"div",14),e.YNc(25,Dt,18,4,"div",15),e.YNc(26,Jt,4,0,"div",14),e._UZ(27,"hr",16),e.YNc(28,Bt,1,0,"button",17),e.qZA()()(),e._UZ(29,"p-toast")),2&t&&(e.xp6(22),e.Q6J("model",s.items)("activeItem",s.activeItem),e.xp6(1),e.Q6J("ngIf",0===s.itemActivo),e.xp6(1),e.Q6J("ngIf",1===s.itemActivo),e.xp6(1),e.Q6J("ngIf",2===s.itemActivo),e.xp6(1),e.Q6J("ngIf",3===s.itemActivo),e.xp6(2),e.Q6J("ngIf",2===s.itemActivo))},dependencies:[v.sg,v.O5,M.Hq,F.o,$.d,k.FN,w.Fj,w.JJ,w.On,W.KE,W.hX,X.gD,Ut.ey],styles:[".mat-form-field-flex>.mat-form-field-infix{padding:0!important;border-top-width:0}  .mat-form-field-appearance-outline .mat-form-field-label{margin-top:-15px}  label.ng-star-inserted{transform:translateY(-.59375em) scale(.75)!important}  .mat-form-field-label-wrapper{margin-top:.4rem}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}"]}),n})();function Pt(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Administrador"),e.qZA()())}function Ft(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Cliente"),e.qZA()())}function It(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"label",48),e._uU(3,"Nombre"),e.qZA(),e.TgZ(4,"span")(5,"input",49),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.name=i)}),e.qZA()()(),e.TgZ(6,"div",47)(7,"label",50),e._uU(8,"Apellido"),e.qZA(),e.TgZ(9,"span")(10,"input",51),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.surname=i)}),e.qZA()()(),e.TgZ(11,"div",47)(12,"label",52),e._uU(13,"Fecha nacimiento"),e.qZA(),e.TgZ(14,"p-calendar",53),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.birthday=i)}),e.qZA()(),e.TgZ(15,"div",47)(16,"label",52),e._uU(17,"Fecha Actual:"),e.qZA(),e._UZ(18,"input",54),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"div",47)(21,"label",55),e._uU(22,"Correo electr\xf3nico"),e.qZA(),e.TgZ(23,"span",56),e._UZ(24,"i",32),e.TgZ(25,"input",57),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.email=i)}),e.qZA()()(),e.TgZ(26,"div",47)(27,"label",58),e._uU(28,"Direcci\xf3n"),e.qZA(),e.TgZ(29,"span",56),e._UZ(30,"i",31),e.TgZ(31,"input",59),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.address=i)}),e.qZA()()(),e.TgZ(32,"div",47)(33,"label",60),e._uU(34,"Celular"),e.qZA(),e.TgZ(35,"span",56),e._UZ(36,"i",61),e.TgZ(37,"input",62),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.contactNumber=i)}),e.qZA()()(),e.TgZ(38,"div",47)(39,"label",63),e._uU(40,"Whatsapp"),e.qZA(),e.TgZ(41,"span",56),e._UZ(42,"i",64),e.TgZ(43,"input",65),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.whatsapp=i)}),e.qZA()()(),e.TgZ(44,"div",47)(45,"label",66),e._uU(46,"Pa\xeds"),e.qZA(),e.TgZ(47,"p-dropdown",67),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.country=i)})("onChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.setCurrencyDropBox(i.country))}),e.qZA()(),e.TgZ(48,"div",47)(49,"label",66),e._uU(50,"Pa\xeds Actual:"),e.qZA(),e._UZ(51,"input",54),e.qZA(),e.TgZ(52,"div",47)(53,"label",68),e._uU(54,"Compa\xf1\xeda"),e.qZA(),e.TgZ(55,"span",56),e._UZ(56,"i",69),e.TgZ(57,"input",70),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.company=i)}),e.qZA()()(),e.TgZ(58,"div",47)(59,"label",71),e._uU(60,"Moneda"),e.qZA(),e.TgZ(61,"p-dropdown",72),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.currency=i)}),e.qZA()(),e._UZ(62,"div",73),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.name),e.xp6(5),e.Q6J("ngModel",t.surname),e.xp6(4),e.Q6J("ngModel",t.birthday),e.xp6(4),e.Q6J("value",e.xi3(19,15,t.usuario.birthday,"MM/dd/yyyy")),e.xp6(7),e.Q6J("ngModel",t.email),e.xp6(6),e.Q6J("ngModel",t.address),e.xp6(6),e.Q6J("ngModel",t.contactNumber),e.xp6(6),e.Q6J("ngModel",t.whatsapp),e.xp6(4),e.Q6J("options",t.countries)("ngModel",t.country),e.xp6(4),e.Q6J("value",t.usuario.country.name),e.xp6(6),e.Q6J("ngModel",t.company),e.xp6(4),e.Q6J("options",t.currencys)("ngModel",t.currency)("disabled",!0)}}function Gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteData())}),e.qZA(),e.TgZ(1,"button",75),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateClient())}),e.qZA()}}const jt=function(){return{width:"45%"}},Rt=function(){return{width:"90%"}};let Lt=(()=>{class n{constructor(t,s,i,o){this.customerService=t,this.authService=s,this.messageService=i,this.utilService=o,this.currencys=[],this.countries=[],this.idSelector="",this.name="",this.surname="",this.birthday=new Date,this.email="",this.contactNumber=0,this.whatsapp=0,this.address="",this.company="",this.displayModel=!1,this.windowWidth=window.screen.width,this.currency={name:""},this.changeUserPassword="",this.confirmUserPassword="",this.selectedCountry={name:"",code:"",flag:""},this.newPassword="",this.role=this.authService.getRole(),this.usuario=this.authService.usuario,this.getCountries(),this.currencys=[{name:"BDT"},{name:"EUR"},{name:"XOF"},{name:"BGN"},{name:"BAM"},{name:"BBD"},{name:"XPF"},{name:"BMD"},{name:"BND"},{name:"BOB"},{name:"BHD"},{name:"BIF"},{name:"BTN"},{name:"JMD"},{name:"NOK"},{name:"BWP"},{name:"WST"},{name:"BRL"},{name:"BSD"},{name:"GBP"},{name:"BYR"},{name:"BZD"},{name:"RUB"},{name:"RWF"},{name:"RSD"},{name:"TMT"},{name:"TJS"},{name:"RON"},{name:"NZD"},{name:"GTQ"},{name:"XAF"},{name:"JPY"},{name:"GYD"},{name:"GEL"},{name:"XCD"},{name:"GNF"},{name:"GMD"},{name:"DKK"},{name:"GIP"},{name:"GHS"},{name:"OMR"},{name:"TND"},{name:"JOD"},{name:"HRK"},{name:"HTG"},{name:"HUF"},{name:"HKD"},{name:"HNL"},{name:"AUD"},{name:"VEF"},{name:"ILS"},{name:"PYG"},{name:"IQD"},{name:"PAB"},{name:"PGK"},{name:"PEN"},{name:"PKR"},{name:"PHP"},{name:"PLN"},{name:"ZMK"},{name:"MAD"},{name:"EGP"},{name:"ZAR"},{name:"VND"},{name:"SBD"},{name:"ETB"},{name:"SOS"},{name:"ZWL"},{name:"SAR"},{name:"ERN"},{name:"MDL"},{name:"MGA"},{name:"UZS"},{name:"MMK"},{name:"MOP"},{name:"MNT"},{name:"MKD"},{name:"MUR"},{name:"MWK"},{name:"MVR"},{name:"MRO"},{name:"UGX"},{name:"TZS"},{name:"MYR"},{name:"MXN"},{name:"SHP"},{name:"FJD"},{name:"FKP"},{name:"NIO"},{name:"NAD"},{name:"VUV"},{name:"NGN"},{name:"NPR"},{name:"CHF"},{name:"COP"},{name:"CNY"},{name:"CLP"},{name:"CAD"},{name:"CDF"},{name:"CZK"},{name:"CRC"},{name:"ANG"},{name:"CVE"},{name:"CUP"},{name:"SZL"},{name:"SYP"},{name:"KGS"},{name:"KES"},{name:"SSP"},{name:"SRD"},{name:"KHR"},{name:"KMF"},{name:"STD"},{name:"KRW"},{name:"KPW"},{name:"KWD"},{name:"SLL"},{name:"SCR"},{name:"KZT"},{name:"KYD"},{name:"SGD"},{name:"SEK"},{name:"SDG"},{name:"DOP"},{name:"DJF"},{name:"YER"},{name:"DZD"},{name:"UYU"},{name:"LBP"},{name:"LAK"},{name:"TWD"},{name:"TTD"},{name:"TRY"},{name:"LKR"},{name:"TOP"},{name:"LTL"},{name:"LRD"},{name:"LSL"},{name:"THB"},{name:"LYD"},{name:"AED"},{name:"AFN"},{name:"ISK"},{name:"IRR"},{name:"AMD"},{name:"ALL"},{name:"AOA"},{name:"USD"},{name:"ARS"},{name:"AWG"},{name:"INR"},{name:"AZN"},{name:"IDR"},{name:"UAH"},{name:"QAR"},{name:"MZN"}],this.currency=this.usuario.currency}ngOnInit(t=!1){this.idSelector=this.usuario._id,this.name=this.usuario.name,this.surname=this.usuario.surname,this.birthday=this.usuario.birthday,this.email=this.usuario.email,this.contactNumber=this.usuario.contactNumber,this.address=this.usuario.address,this.company=this.usuario.company}getCountries(){this.utilService.getCountries().subscribe(t=>{t.sort((s,i)=>s.translations.spa.common>i.translations.spa.common?1:-1),t.forEach(s=>{this.countries.push(s)})})}setCurrencyDropBox(t){this.utilService.getCurrencies().then(s=>{this.currency={name:s[t.cca2]}}),this.selectedCountry={name:t.translations.spa.common,code:t.cca2,flag:t.flags.png}}openEditClient(){const s=this.usuario.whatsapp;this.idSelector=this.usuario._id,this.name=this.usuario.name,this.surname=this.usuario.surname,this.birthday=this.usuario.birthday,this.email=this.usuario.email,this.contactNumber=this.usuario.contactNumber,this.whatsapp=s,this.address=this.usuario.address,this.setCurrency(this.usuario.country),this.company=this.usuario.company,this.displayModel=!0}deleteData(){this.displayModel=!1}updateClient(){const t={_id:this.idSelector,name:this.name,surname:this.surname,birthday:this.birthday,email:this.email,address:this.address,company:this.company,contactNumber:this.contactNumber,whatsapp:this.whatsapp,country:""===this.selectedCountry.name?this.usuario.country:this.selectedCountry,currency:this.currency,password:"",__v:0};""!==this.confirmUserPassword||""!==this.changeUserPassword?""!==this.confirmUserPassword&&""!==this.changeUserPassword?this.confirmUserPassword===this.changeUserPassword?t.password=this.changeUserPassword:(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Las contrase\xf1as no coinciden"})):(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Ambos campos de contrase\xf1a, deben estar ocupados"})):this.customerService.updateClient(t).subscribe(s=>{this.usuario={name:this.name,_id:this.idSelector,email:this.email,surname:this.surname,contactNumber:this.contactNumber,address:this.address,birthday:this.birthday,company:this.company,country:this.country,whatsapp:this.whatsapp,currency:this.currency,role:this.usuario.role},this.displayModel=!1,this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Cliente Actualizado"})})}cambiarPassword(){""===this.newPassword?(this.messageService.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"Campo vacio"})):this.authService.changePass(this.newPassword,this.usuario._id).subscribe(t=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Contrase\xf1a actualizada"})})}setCurrency(t){return t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O),e.Y36(y.e),e.Y36(Z.ez),e.Y36(G.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-client-detail"]],decls:103,vars:17,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],["class","px-2",4,"ngIf"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"flex","flex-column","flex-auto","min-w-320"],[1,"surface-section","p-5"],[1,"flex","align-items-start","flex-column","lg:flex-row","lg:justify-content-between"],[1,"flex","align-items-start","flex-column","md:flex-row"],[1,"text-900","font-medium","text-3xl"],[1,"pi","pi-star","text-2xl","ml-4","text-yellow-500"],[1,"p-3","md:p-5"],[1,"grid"],[1,"col-12","lg:col-3"],[1,"col-12","lg:col-6"],[1,"surface-card","p-4","shadow-2","border-round"],[1,"font-medium","text-3xl","text-900","mb-3","div-change-password-and-information"],[1,"text-500","mb-5","d-flex","edit-wrapper"],[1,"text-900","w-6","md:w-2","flex","justify-content-end"],[3,"click"],[1,"ml-1","pi","pi-user-edit"],[1,"list-none","p-0","m-0"],[1,"flex","align-items-center","py-3","px-2","border-top-1","surface-border","flex-wrap"],[1,"text-500","w-6","md:w-3","font-medium"],[1,"text-900","w-full","md:w-7","md:flex-order-0","flex-order-1"],[1,"w-6","md:w-2","flex","justify-content-end"],[1,"pi","pi-user"],[1,"pi","pi-id-card"],[1,"pi","pi-map-marker"],[1,"pi","pi-envelope"],[1,"pi","pi-briefcase"],[1,"pi","pi-phone"],[1,"surface-card","p-4","shadow-2","border-round","flex","justify-content-center","flex-column"],[1,"text-500","mb-5"],[1,"grid","md:ml-3"],[1,"mt-3","col-12"],[1,"mr-3","md:col-4","col-12"],["type","text","pInputText","","placeholder","Ingrese contrase\xf1a nueva",1,"md:col-8","col-12",3,"ngModel","ngModelChange"],[1,"mb-3","mt-3","mx-0","border-top-1","border-none","surface-border"],["pButton","","pRipple","","label","Cambiar Contrase\xf1a","icon","pi pi-lock",1,"p-3","w-full","p-button-danger",3,"click"],["header","Editar Cliente","styleClass","p-fluid min-w-320",3,"visible","modal","onHide","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","flex-column","align-items-center","p-fluid"],[1,"field","mb-4","col-12","md:col-10"],["for","name",1,"font-medium","text-900"],["id","name","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","surname",1,"font-medium","text-900"],["id","surname","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","birthday",1,"font-medium","text-900"],["dateFormat","dd/mm/yy","placeholder","dd/mm/yy",3,"ngModel","ngModelChange"],["type","text","disabled","",1,"p-inputtext","p-component","p-element",3,"value"],["for","email",1,"font-medium","text-900"],[1,"p-input-icon-left"],["id","email","type","email",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","address",1,"font-medium","text-900"],["id","address","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","contactNumber",1,"font-medium","text-900"],[1,"pi","pi-mobile"],["id","contactNumber","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","whatsapp",1,"font-medium","text-900"],[1,"pi","pi-whatsapp"],["id","whatsapp","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","country",1,"font-medium","text-900"],["optionLabel","translations.spa.common",3,"options","ngModel","ngModelChange","onChange"],["for","company",1,"font-medium","text-900"],[1,"pi","pi-building"],["id","company","type","text",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["for","currency",1,"font-medium","text-900"],["optionLabel","name",3,"options","ngModel","disabled","ngModelChange"],[1,"surface-border","border-top-1","opacity-50","mb-4","col-12"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-success","p-button-text",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.YNc(6,Pt,3,0,"li",6),e.YNc(7,Ft,3,0,"li",6),e.TgZ(8,"li",4),e._UZ(9,"i",5),e.qZA(),e.TgZ(10,"li",4)(11,"a",7),e._uU(12,"Detalle Cuenta"),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div")(18,"span",12),e._uU(19),e.qZA(),e._UZ(20,"i",13),e.qZA()()()(),e.TgZ(21,"div",14)(22,"div",15),e._UZ(23,"div",16),e.TgZ(24,"div",17)(25,"div",18)(26,"div",19),e._uU(27," INFORMACI\xd3N "),e.qZA(),e.TgZ(28,"div",20),e._uU(29," Aqu\xed tienes toda tu informaci\xf3n personal. "),e.TgZ(30,"div",21)(31,"button",22),e.NdJ("click",function(){return s.openEditClient()}),e._uU(32," Editar "),e._UZ(33,"i",23),e.qZA()()(),e.TgZ(34,"ul",24)(35,"li",25)(36,"div",26),e._uU(37,"Nombre"),e.qZA(),e.TgZ(38,"div",27),e._uU(39),e.qZA(),e.TgZ(40,"div",28),e._UZ(41,"i",29),e.qZA()(),e.TgZ(42,"li",25)(43,"div",26),e._uU(44,"Apellido"),e.qZA(),e.TgZ(45,"div",27),e._uU(46),e.qZA(),e.TgZ(47,"div",28),e._UZ(48,"i",30),e.qZA()(),e.TgZ(49,"li",25)(50,"div",26),e._uU(51,"Direcci\xf3n"),e.qZA(),e.TgZ(52,"div",27),e._uU(53),e.qZA(),e.TgZ(54,"div",28),e._UZ(55,"i",31),e.qZA()(),e.TgZ(56,"li",25)(57,"div",26),e._uU(58,"Pa\xeds"),e.qZA(),e.TgZ(59,"div",27),e._uU(60),e.qZA(),e.TgZ(61,"div",28),e._UZ(62,"i",31),e.qZA()(),e.TgZ(63,"li",25)(64,"div",26),e._uU(65,"Correo"),e.qZA(),e.TgZ(66,"div",27),e._uU(67),e.qZA(),e.TgZ(68,"div",28),e._UZ(69,"i",32),e.qZA()(),e.TgZ(70,"li",25)(71,"div",26),e._uU(72,"Compa\xf1ia"),e.qZA(),e.TgZ(73,"div",27),e._uU(74),e.qZA(),e.TgZ(75,"div",28),e._UZ(76,"i",33),e.qZA()(),e.TgZ(77,"li",25)(78,"div",26),e._uU(79,"T\xe9lefono de contacto"),e.qZA(),e.TgZ(80,"div",27),e._uU(81),e.qZA(),e.TgZ(82,"div",28),e._UZ(83,"i",34),e.qZA()()()()(),e._UZ(84,"div",16)(85,"div",16),e.TgZ(86,"div",17)(87,"div",35)(88,"div",19),e._uU(89," CAMBIAR CONTRASE\xd1A "),e.qZA(),e.TgZ(90,"div",36),e._uU(91,"Aqu\xed podr\xe1s cambiar tu contrsae\xf1a"),e.qZA(),e.TgZ(92,"div",37)(93,"span",38)(94,"label",39),e._uU(95,"Contrase\xf1a Nueva"),e.qZA(),e.TgZ(96,"input",40),e.NdJ("ngModelChange",function(o){return s.newPassword=o}),e.qZA()()(),e._UZ(97,"hr",41),e.TgZ(98,"button",42),e.NdJ("click",function(){return s.cambiarPassword()}),e.qZA()()()()()(),e.TgZ(99,"p-dialog",43),e.NdJ("onHide",function(){return s.deleteData()})("visibleChange",function(o){return s.displayModel=o}),e.YNc(100,It,63,18,"ng-template",44),e.YNc(101,Gt,2,0,"ng-template",45),e.qZA(),e._UZ(102,"p-toast")),2&t&&(e.xp6(6),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Q6J("ngIf",2==s.role),e.xp6(12),e.hij(" ",s.usuario.name," "),e.xp6(20),e.hij(" ",s.usuario.name," "),e.xp6(7),e.hij(" ",s.usuario.surname," "),e.xp6(7),e.hij(" ",s.usuario.address," "),e.xp6(7),e.hij(" ",s.usuario.country.name," "),e.xp6(7),e.hij(" ",s.usuario.email," "),e.xp6(7),e.hij(" ",s.usuario.company," "),e.xp6(7),e.hij(" ",s.usuario.contactNumber," "),e.xp6(15),e.Q6J("ngModel",s.newPassword),e.xp6(3),e.Akn(s.windowWidth>960?e.DdM(15,jt):e.DdM(16,Rt)),e.Q6J("visible",s.displayModel)("modal",!0))},dependencies:[v.O5,M.Hq,D.f,Z.jx,B.V,J.Lt,F.o,k.FN,w.Fj,w.JJ,w.On,v.uU],styles:[".edit-wrapper[_ngcontent-%COMP%]{flex-direction:row;display:flex;justify-content:space-between;padding-right:8px}.edit-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}@media (max-width: 960px){  div.div-change-password-and-information{font-size:medium!important}}"]}),n})();function Qt(n,r){1&n&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"div",19),e.TgZ(3,"label",20),e._uU(4,"NUMERO DE TARJETA"),e.qZA(),e._UZ(5,"input",21)(6,"div",22)(7,"div",23),e.TgZ(8,"label",20),e._uU(9,"CSV"),e.qZA(),e._UZ(10,"input",24)(11,"div",25)(12,"div",23),e.TgZ(13,"label",20),e._uU(14,"FECHA DE VEN."),e.qZA(),e._UZ(15,"input",21)(16,"div",22)(17,"div",23),e.TgZ(18,"label",20),e._uU(19,"MONTO SOLICITADO"),e.qZA(),e._UZ(20,"input",26)(21,"div",22),e.qZA()())}function Yt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",27)(2,"div",28)(3,"label",29),e._uU(4,"CUENTA SWIFT"),e.qZA(),e.TgZ(5,"input",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.ibanAccount=i)}),e.qZA()(),e.TgZ(6,"div",28)(7,"label",29),e._uU(8,"NOMBRE DE BANCO"),e.qZA(),e.TgZ(9,"input",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.bankName=i)}),e.qZA()(),e.TgZ(10,"div",28)(11,"label",29),e._uU(12,"N\xdaMERO DE CUENTA"),e.qZA(),e.TgZ(13,"input",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.numberAccount=i)}),e.qZA()(),e.TgZ(14,"div",28)(15,"label",29),e._uU(16,"MONTO SOLICITADO"),e.qZA(),e.TgZ(17,"input",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.requestedValue=i)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.ibanAccount),e.xp6(4),e.Q6J("ngModel",t.bankName),e.xp6(4),e.Q6J("ngModel",t.numberAccount),e.xp6(4),e.Q6J("ngModel",t.requestedValue)}}let zt=(()=>{class n{constructor(t,s,i){this.requestServices=t,this.router=s,this.messageService=i,this.itemActivo=1,this.date=new Date,this.ibanAccount="",this.bankName="",this.numberAccount=0,this.requestedValue=0,this.items=[{id:"1",label:"Banco",icon:"pi pi-fw pi-money-bill",command:o=>this.prueba(o)}],this.activeItem=this.items[0]}prueba(t){this.itemActivo=Number(t.item.id)}clearInputs(){this.ibanAccount="",this.bankName="",this.numberAccount=0,this.requestedValue=0}createRequest(){const t=new Date;this.requestServices.createRequest({_id:"",clientId:"",clientName:"",ibanAccount:this.ibanAccount,bankName:this.bankName,numberAccount:this.numberAccount,requestedValue:this.requestedValue,requestStatus:"Creado",requestDate:t,requestType:"Retiro"}).subscribe(i=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Solicitud de Retiro Exitoso"}),this.clearInputs()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I),e.Y36(T.gz),e.Y36(Z.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-retire"]],decls:28,vars:4,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"col-12","lg:col-12","m-auto","md:w-8","w-11"],[1,"p-3","h-full"],[1,"shadow-2","p-3","h-full","flex","flex-column","surface-card",2,"border-radius","6px"],[1,"text-900","font-medium","text-xl","mb-2"],[1,"text-600"],[1,"my-3","mx-0","border-top-1","border-none","surface-border"],[3,"model","activeItem"],["class","mt-5",4,"ngIf"],[1,"mb-3","mt-3","mx-0","border-top-1","border-none","surface-border"],["pButton","","pRipple","","label","Enviar",1,"p-3","w-3","align-self-center",3,"click"],[1,"mt-5"],[1,"grid","ml-3"],[1,"col-0","lg:col-3"],[1,"mr-3","col-4","lg:col-2"],["type","text","pInputText","",1,"col-4","mb-3"],[1,"col-1","lg:col-2"],[1,"col-1","lg:col-3"],["type","text","pInputText","",1,"col-1","mb-3","lg:col-1"],[1,"col-3","lg:col-5"],["type","text","pInputText","",1,"col-4"],[1,"flex","flex-column","ml-3"],[1,"my-3"],[1,"md:mr-3","md:mb-0","mb-2","w-11","md:w-4","inline-block"],["type","text","pInputText","",1,"w-11","md:w-7","inline-block",3,"ngModel","ngModelChange"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.TgZ(6,"li",4)(7,"a",6),e._uU(8,"Cliente"),e.qZA()(),e.TgZ(9,"li",4),e._UZ(10,"i",5),e.qZA(),e.TgZ(11,"li",4)(12,"a",6),e._uU(13,"Retiro"),e.qZA()()(),e.TgZ(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",10),e._uU(18,"Retiro"),e.qZA(),e.TgZ(19,"div",11),e._uU(20,"Aqu\xed podr\xe1s realizar tu retiro"),e.qZA(),e._UZ(21,"hr",12)(22,"p-tabMenu",13),e.YNc(23,Qt,22,0,"div",14),e.YNc(24,Yt,18,4,"div",14),e._UZ(25,"hr",15),e.TgZ(26,"button",16),e.NdJ("click",function(){return s.createRequest()}),e.qZA()()()(),e._UZ(27,"p-toast")),2&t&&(e.xp6(22),e.Q6J("model",s.items)("activeItem",s.activeItem),e.xp6(1),e.Q6J("ngIf",0===s.itemActivo),e.xp6(1),e.Q6J("ngIf",1===s.itemActivo))},dependencies:[v.O5,M.Hq,F.o,$.d,k.FN,w.Fj,w.JJ,w.On],styles:["app-retire.ng-star-inserted{width:100%}"]}),n})();function Kt(n,r){1&n&&(e.TgZ(0,"tr")(1,"th",5)(2,"div",6)(3,"span"),e._uU(4," Nombre "),e.qZA(),e._UZ(5,"p-sortIcon",7),e.qZA()(),e.TgZ(6,"th",5)(7,"div",6)(8,"span"),e._uU(9," Tipo "),e.qZA(),e._UZ(10,"p-sortIcon",7),e.qZA()(),e.TgZ(11,"th",8)(12,"div",6)(13,"span"),e._uU(14," IBAN "),e.qZA(),e._UZ(15,"p-sortIcon",9),e.qZA()(),e.TgZ(16,"th",10)(17,"div",6)(18,"span"),e._uU(19," Banco "),e.qZA(),e._UZ(20,"p-sortIcon",11),e.qZA()(),e.TgZ(21,"th",12)(22,"div",6)(23,"span"),e._uU(24," Cuenta "),e.qZA(),e._UZ(25,"p-sortIcon",13),e.qZA()(),e.TgZ(26,"th",12)(27,"div",6)(28,"span"),e._uU(29," Monto "),e.qZA(),e._UZ(30,"p-sortIcon",13),e.qZA()(),e.TgZ(31,"th",12)(32,"div",6)(33,"span"),e._uU(34," Fecha "),e.qZA(),e._UZ(35,"p-sortIcon",13),e.qZA()(),e.TgZ(36,"th",12)(37,"div",6)(38,"span"),e._uU(39," Estado "),e.qZA(),e._UZ(40,"p-sortIcon",13),e.qZA()(),e.TgZ(41,"th")(42,"div",6)(43,"span"),e._uU(44," Estado "),e.qZA()()()())}function Ht(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.updateStatusRequest(i.solicitud,"Finalizado"))}),e.qZA()}}function Vt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.updateStatusRequest(i.solicitud,"Rechazado"))}),e.qZA()}}function $t(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.updateStatusRequest(i.solicitud,"En proceso"))}),e.qZA()}}function Wt(n,r){if(1&n&&(e.TgZ(0,"tr",14)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td"),e.YNc(20,Ht,1,0,"button",15),e.YNc(21,Vt,1,0,"button",16),e.YNc(22,$t,1,0,"button",17),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.solicitud.clientName),e.xp6(2),e.Oqu(t.solicitud.requestType),e.xp6(2),e.Oqu(t.solicitud.ibanAccount),e.xp6(2),e.Oqu(t.solicitud.bankName),e.xp6(2),e.Oqu(t.solicitud.numberAccount),e.xp6(2),e.Oqu(t.solicitud.requestedValue),e.xp6(2),e.Oqu(e.xi3(15,13,t.solicitud.requestDate,"dd/MM/yyyy")),e.xp6(3),e.Tol("customer-badge status-"+t.colorStatus),e.xp6(1),e.Oqu(t.solicitud.requestStatus),e.xp6(2),e.Q6J("ngIf","En proceso"===t.solicitud.requestStatus),e.xp6(1),e.Q6J("ngIf","En proceso"===t.solicitud.requestStatus),e.xp6(1),e.Q6J("ngIf","Creado"===t.solicitud.requestStatus||"Rechazado"===t.solicitud.requestStatus||"Finalizado"===t.solicitud.requestStatus)}}function Xt(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",21),e._uU(2,"No tiene Solicitudes registradas"),e.qZA()())}let es=(()=>{class n{constructor(t,s){this.requestService=t,this.messageService=s,this.requestList=[],this.getAllRequets()}ngOnInit(){}getAllRequets(){this.requestList=[],this.requestService.getRequest().subscribe(t=>{t.requests.forEach(s=>{const i={solicitud:s,colorStatus:this.setColorStatus(s.requestStatus)};this.requestList.push(i)})})}setColorStatus(t){return"Creado"===t||"Finalizado"===t||"Rechazado"===t?t:"new"}updateStatusRequest(t,s){this.requestService.updateStatus(t,s).subscribe(i=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"ok",detail:"Estado actualizado"}),this.getAllRequets()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I),e.Y36(Z.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-request-table"]],decls:5,vars:1,consts:[["responsiveLayout","scroll","styleClass","p-datatable-customers",3,"value"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center"],["field","name"],["pSortableColumn","surname"],["field","apellido"],["pSortableColumn","email"],["field","email"],["pSortableColumn","currency"],["field","moneda"],[1,"p-selectable-row"],["pButton","","pRipple","","icon","pi pi-check","iconPos","right","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-times","iconPos","right","class","p-button-danger ml-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-exclamation-circle","iconPos","right","class","p-button-info ml-2","label","En proceso",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-check","iconPos","right",1,"p-button-success",3,"click"],["pButton","","pRipple","","icon","pi pi-times","iconPos","right",1,"p-button-danger","ml-2",3,"click"],["pButton","","pRipple","","icon","pi pi-exclamation-circle","iconPos","right","label","En proceso",1,"p-button-info","ml-2",3,"click"],["colspan","8"]],template:function(t,s){1&t&&(e.TgZ(0,"p-table",0,1),e.YNc(2,Kt,45,0,"ng-template",2),e.YNc(3,Wt,23,16,"ng-template",3),e.YNc(4,Xt,3,0,"ng-template",4),e.qZA()),2&t&&e.Q6J("value",s.requestList)},dependencies:[v.O5,M.Hq,Z.jx,A.iA,A.lQ,A.fz,v.uU],styles:[".customer-badge[_ngcontent-%COMP%]{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.customer-badge.status-Creado[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.customer-badge.status-Finalizado[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.customer-badge.status-new[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.customer-badge.status-Rechazado[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}"]}),n})();function ts(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Administrador"),e.qZA()())}function ss(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Cliente"),e.qZA()())}let is=(()=>{class n{constructor(t){this.authService=t,this.role=this.authService.getRole()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-request"]],decls:19,vars:2,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],["class","px-2",4,"ngIf"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"min-h-screen","flex","flex-column","relative","flex-auto","min-w-320"],[1,"flex","flex-column","flex-auto"],[1,"p-5"],[1,"grid"],[1,"col-12"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.YNc(6,ts,3,0,"li",6),e.YNc(7,ss,3,0,"li",6),e.TgZ(8,"li",4),e._UZ(9,"i",5),e.qZA(),e.TgZ(10,"li",4)(11,"a",7),e._uU(12,"Solicitudes"),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),e._UZ(18,"app-request-table"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Q6J("ngIf",2==s.role))},dependencies:[v.O5,es]}),n})(),te=(()=>{class n{constructor(t,s){this.http=t,this.authService=s,this.baseUrl=q_baseUrl}get usuario(){return this.authService.usuario}getMovimientosPackage(){return this.http.get(`${this.baseUrl}/movimientos/package`).pipe((0,f.U)(s=>s))}getAllTypeMovements(){return this.http.get(`${this.baseUrl}/movimientos/all`).pipe((0,f.U)(s=>s))}getMovementByClient(){const t=this.usuario,s=`${this.baseUrl}/movimientos/clientId`,i=(new x.WM).set("x-clientId",t._id||"");return this.http.get(s,{headers:i}).pipe((0,f.U)(o=>o))}deleteMovement(t){const s=`${this.baseUrl}/movimientos/delete`,i=(new x.WM).set("x-requestId",t.requestId||"").set("x-movementId",t._id||"");return this.http.delete(s,{headers:i}).pipe((0,f.U)(o=>o))}updateStatus(t,s){return this.http.post(`${this.baseUrl}/movimientos/update/status`,{_id:t._id,status:s}).pipe((0,f.U)(a=>a))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN),e.LFG(y.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ns(n,r){1&n&&(e.TgZ(0,"th",8)(1,"div",6)(2,"span"),e._uU(3," Eliminar "),e.qZA(),e._UZ(4,"p-sortIcon",9),e.qZA()())}function os(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",5)(2,"div",6)(3,"span"),e._uU(4," Nombre "),e.qZA(),e._UZ(5,"p-sortIcon",7),e.qZA()(),e.TgZ(6,"th",5)(7,"div",6)(8,"span"),e._uU(9," Tipo "),e.qZA(),e._UZ(10,"p-sortIcon",7),e.qZA()(),e.TgZ(11,"th",8)(12,"div",6)(13,"span"),e._uU(14," Fecha "),e.qZA(),e._UZ(15,"p-sortIcon",9),e.qZA()(),e.TgZ(16,"th",8)(17,"div",6)(18,"span"),e._uU(19," Valor "),e.qZA(),e._UZ(20,"p-sortIcon",9),e.qZA()(),e.YNc(21,ns,5,0,"th",10),e.qZA()),2&n){const t=e.oxw();e.xp6(21),e.Q6J("ngIf",!t.byClient)}}function rs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.deleteMovement(i.movimiento))}),e.qZA()()}}function as(n,r){if(1&n&&(e.TgZ(0,"tr",11)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td")(10,"span"),e._uU(11),e.qZA()(),e.YNc(12,rs,2,0,"td",12),e.qZA()),2&n){const t=r.$implicit,s=e.oxw();e.xp6(2),e.Oqu(t.movimiento.clientName),e.xp6(2),e.Tol("customer-badge status-"+t.colorStatus),e.xp6(1),e.Oqu(t.movimiento.type),e.xp6(2),e.Oqu(e.Dn7(8,9,t.movimiento.requestDate,"dd/MM/yyyy","+0000")),e.xp6(3),e.Tol("customer-badge status-"+t.colorStatus),e.xp6(1),e.Oqu(t.valor),e.xp6(1),e.Q6J("ngIf",!s.byClient)}}function ls(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",15),e._uU(2,"No hay movimientos registrados"),e.qZA()())}let ms=(()=>{class n{constructor(t,s,i){this.movimientosService=t,this.router=s,this.messageService=i,this.movementsList=[],this.byClient=!1,this.router.queryParams.subscribe(o=>{this.byClient=o.byClient}),this.byClient?this.getAllMovementsByClient():this.getAllMovements()}ngOnInit(){}getAllMovements(){this.movementsList=[],this.movimientosService.getAllTypeMovements().subscribe(t=>{t.movimientos.forEach(s=>{let i;i="Paquete"===s.type?s.value:`$${s.value}.00`;const o={movimiento:s,colorStatus:this.setColorStatus(s.type),valor:i};this.movementsList.push(o)})})}getAllMovementsByClient(){this.movementsList=[],this.movimientosService.getMovementByClient().subscribe(t=>{t.movimientos.forEach(s=>{let i;i="Paquete"===s.type?s.value:`$${s.value}.00`;const o={movimiento:s,colorStatus:this.setColorStatus(s.type),valor:i};this.movementsList.push(o)})})}setColorStatus(t){return"Paquete"===t||"Deposito"===t||"Retiro"===t?t:"new"}deleteMovement(t){console.log(t),this.movimientosService.deleteMovement(t).subscribe(s=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Ok",detail:"Orden eliminada"}),this.getAllMovements()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(te),e.Y36(T.gz),e.Y36(Z.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movement-table"]],decls:5,vars:1,consts:[["responsiveLayout","scroll","styleClass","p-datatable-customers",3,"value"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center"],["field","name"],["pSortableColumn","currency"],["field","moneda"],["pSortableColumn","currency",4,"ngIf"],[1,"p-selectable-row"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["pButton","","pRipple","","icon","pi pi-times-circle",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],["colspan","8"]],template:function(t,s){1&t&&(e.TgZ(0,"p-table",0,1),e.YNc(2,os,22,1,"ng-template",2),e.YNc(3,as,13,13,"ng-template",3),e.YNc(4,ls,3,0,"ng-template",4),e.qZA()),2&t&&e.Q6J("value",s.movementsList)},dependencies:[v.O5,M.Hq,Z.jx,A.iA,A.lQ,A.fz,v.uU],styles:[".customer-badge[_ngcontent-%COMP%]{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.customer-badge.status-Paquete[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.customer-badge.status-Deposito[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.customer-badge.status-Retiro[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}"]}),n})();function cs(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Administrador"),e.qZA()())}function ds(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Cliente"),e.qZA()())}let hs=(()=>{class n{constructor(t){this.authService=t,this.role=this.authService.getRole()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movements-list"]],decls:19,vars:2,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],["class","px-2",4,"ngIf"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],[1,"min-h-screen","flex","flex-column","relative","flex-auto","min-w-320"],[1,"flex","flex-column","flex-auto"],[1,"p-5"],[1,"grid"],[1,"col-12"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.YNc(6,cs,3,0,"li",6),e.YNc(7,ds,3,0,"li",6),e.TgZ(8,"li",4),e._UZ(9,"i",5),e.qZA(),e.TgZ(10,"li",4)(11,"a",7),e._uU(12,"Movimientos"),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),e._UZ(18,"app-movement-table"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Q6J("ngIf",2==s.role))},dependencies:[v.O5,ms]}),n})();function ps(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Administrador"),e.qZA()())}function us(n,r){1&n&&(e.TgZ(0,"li",4)(1,"a",7),e._uU(2,"Cliente"),e.qZA()())}const gs=[{path:"",component:ae,children:[{path:"graficos",component:(()=>{class n{constructor(){}ngOnInit(){setTimeout(()=>{const t=document.getElementById("alertacarga");t&&(t.style.display="none")},3e3)}onIframeLoad(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-graficos"]],decls:22,vars:2,consts:[[1,"list-none","py-3","px-5","m-0","surface-section","flex","align-items-center","font-medium","overflow-x-auto","border-top-1","border-bottom-1","surface-border","shadow-2","lg:shadow-none"],[1,"pr-3"],[1,"cursor-pointer"],[1,"pi","pi-home","text-blue-500"],[1,"px-2"],[1,"pi","pi-angle-right","text-500"],["class","px-2",4,"ngIf"],[1,"cursor-pointer","text-blue-500","white-space-nowrap"],["id","alertacarga",1,"loading-message"],[1,"min-h-screen","flex","flex-column","relative","flex-auto","min-w-320"],[1,"flex","flex-column","flex-auto"],[1,"p-5"],[1,"grid"],[1,"col-12","relative"],["id","advanced_iframe","name","advanced_iframe","src","https://tvc-invdn-com.investing.com/web/1.12.34/index59-prod.html?carrier=e47b9c69be124c78caafd327fce2b275&time=1660760768&domain_ID=4&lang_ID=4&timezone_ID=58&version=1.12.34&locale=es&timezone=Europe%2FMadrid&pair_ID=1&interval=15&session=24x7&prefix=es&user=guest&family_prefix=tvc6&init_page=live-charts&sock_srv=https%3A%2F%2Fstreaming.forexpros.com%3A443&watchlist=1%2C2%2C3%2C9%2C5%2C7%2C6%2C945629%2C8827%2C10%2C8%2C15%2C52%2C16%2C39%2C2103%2C2110%2C2186&geoc=MX&site=https%3A%2F%2Fes.investing.com","width","100%","height","600","frameborder","0","allowtransparency","true","loading","auto","allowfullscreen","",2,"width","100%","height","600px",3,"load"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"li",4),e._UZ(5,"i",5),e.qZA(),e.YNc(6,ps,3,0,"li",6),e.YNc(7,us,3,0,"li",6),e.TgZ(8,"li",4),e._UZ(9,"i",5),e.qZA(),e.TgZ(10,"li",4)(11,"a",7),e._uU(12,"Graficos"),e.qZA()()(),e.TgZ(13,"div",8)(14,"p"),e._uU(15,"Por favor espere, estamos cargando los datos..."),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"iframe",14),e.NdJ("load",function(){return s.onIframeLoad()}),e.qZA()()()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==s.role),e.xp6(1),e.Q6J("ngIf",2==s.role))},styles:[".loading-message[_ngcontent-%COMP%]{background:rgb(236,236,236);padding-top:360px;border-radius:8px;box-shadow:0 2px 10px #0000001a;z-index:1000;font-size:18px;color:#1b1b1b!important;text-align:center;height:100vh}"]}),n})()},{path:"control",component:Te},{path:"clientList",component:Pe},{path:"deposit",component:ee},{path:"clientDetail",component:Lt},{path:"orderlist",component:qt},{path:"deposit",component:ee},{path:"retire",component:zt},{path:"request",component:is},{path:"movementslist",component:hs},{path:"**",redirectTo:"control"}]}];let _s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[T.Bz.forChild(gs),v.ez,T.Bz]}),n})();var bs=d(702);let Cs=(()=>{class n{constructor(t,s){this.http=t,this.authService=s,this.baseUrl=q_baseUrl}get usuario(){return this.authService.usuario}getPackages(){return this.http.get(`${this.baseUrl}/package/all`).pipe((0,f.U)(s=>s))}createPackage(t){return this.http.post(`${this.baseUrl}/package/new`,{pack:t}).pipe((0,S.b)(({})=>{}),(0,f.U)(o=>o.ok),(0,N.K)(o=>(0,E.of)(o.error.msg)))}updatePackage(t){return this.http.post(`${this.baseUrl}/clients/update/package`,{_id:this.usuario._id,package:t}).pipe((0,f.U)(o=>{this.crearMovimiento(t.name).subscribe(()=>o)}))}crearMovimiento(t){const s=`${this.baseUrl}/movimientos/new`,i=new Date;return this.http.post(s,{clientId:this.usuario._id,clientName:`${this.usuario.name} ${this.usuario.surname}`,type:"Paquete",requestDate:i,status:"Creado",value:t}).pipe((0,S.b)(({})=>{}),(0,f.U)(a=>a.ok),(0,N.K)(a=>(0,E.of)(a.error.msg)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN),e.LFG(y.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[O,U,Z.ez,Cs,Z.YP,te,v.uU],imports:[v.ez,_s,bs.R,w.u5,w.UX,x.JF,X.LD,L.W6]}),n})()}}]);